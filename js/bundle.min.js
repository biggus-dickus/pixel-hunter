var main=function(){"use strict";function t(t){for(var e=1;e<t.length;e++)if(t[e]!==t[0])return!1;return!0}function e(t){var e=0,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)e^=o.value}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return e}function n(t,e){var n=void 0,r=W(O.props.images,t,e);switch(e){case u:case c:n=r.map(function(t,e){return'<div class="game__option">\n                  <img src="'+t.url+'" data-origin="'+t.origin+'" alt="Option '+ ++e+'">\n                  <input id="photo-'+e+'" name="question-'+e+'" type="radio" value="photos" required>\n                  <label for="photo-'+e+'" class="game__answer game__answer--photo">Фото</label>\n                  <input id="paintings-'+e+'" name="question-'+e+'" type="radio" value="paintings" required>\n                  <label for="paintings-'+e+'" class="game__answer game__answer--paint">Рисунок</label>\n                </div>'}).join("");break;case f:n=r.map(function(t,e){return'<div class="game__option" data-origin="'+t.uniqueOrigin+'">\n                  <img src="'+t.url+'" alt="Option '+ ++e+'" data-origin="'+t.origin+'">\n                </div>'}).join("");break;default:throw new Error("'type' key (TYPE_RADIO or TYPE_PICTURE) must be set in games Array (gamedata.js)")}return n}function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t){return isFinite(t=+t)&&0!=t?t<0?-i(-t):Math.log(t+Math.sqrt(t*t+1)):t}function o(t,e){var n,r,i=arguments.length<3?t:arguments[2];return ht(t)===i?t[e]:(n=Pe.f(t,e))?st(n,"value")?n.value:void 0!==n.get?n.get.call(i):void 0:lt(r=sn(t))?o(r,e,i):void 0}function a(t,e,n){var r,i,o=arguments.length<4?t:arguments[3],s=Pe.f(ht(t),e);if(!s){if(lt(i=sn(t)))return a(i,e,n,o);s=bt(0)}return st(s,"value")?!(!1===s.writable||!lt(o))&&(r=Pe.f(o,e)||bt(0),r.value=n,mt.f(o,e,r),!0):void 0!==s.set&&(s.set.call(o,n),!0)}function s(t,e,n){t[e]||Object[mu](t,e,{writable:!0,configurable:!0,value:n})}var u="Выбор типа представленного изображения.",c="Выбор типа для каждого из двух вариантов: фотографии или фотореалистичного рисунка.",f="Выбор из трех вариантов изображения одного типа: фотографии или фотореалистичного рисунка.",l="wrong",h={intro:"intro",greeting:"greeting",rules:"rules",game:"game",stats:"stats"},p={INTRO:"",GREETING:"greeting",RULES:"rules",GAME:"game",STATS:"stats"},v=[{type:c,task:"Угадайте для каждого изображения, фото это или рисунок?",classModifier:"",isOptionBlockable:!0,options:2},{type:u,task:"Угадай, фото или рисунок?",classModifier:"game__content--wide",options:1},{type:f,task:"Среди изображений есть только один рисунок или фотография. Найдите его.",classModifier:"game__content--triple",options:3}],d=Object.freeze({player:"Unknown Raccoon",template:h.intro,gameType:v[0],gameNumber:0,gamesTotal:10,lives:3,time:30,slowAnswerThreshold:10,fastAnswerThreshold:20,victory:!1,playerAnswers:[]}),y={correctAnswerPoints:100,slowAnswerPoints:50,fastAnswerPoints:50,lifeBonusPoints:50},g=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},b=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},w=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},S=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},O=new(function(){function t(e){g(this,t),this.props=e}return _(t,[{key:"changeState",value:function(t){this.props=Object.assign({},this.props,t)}},{key:"collectPics",value:function(t){this.props=Object.assign({},this.props,{images:t})}}]),t}())(d),A=function(){function t(){g(this,t)}return _(t,null,[{key:"preprocess",value:function(t){var e,n=[],r={paintings:[],photos:[]};return t.forEach(function(t){return n.push(t.answers)}),(e=[]).concat.apply(e,n).forEach(function(t){"photo"===t.type?r.photos.push(t.image.url):r.paintings.push(t.image.url)}),r}},{key:"toServer",value:function(t){return JSON.stringify(t)}}]),t}(),P=function(){function t(){g(this,t)}return _(t,[{key:"load",value:function(){return fetch(this.urlRead).then(function(t){return t.json()}).then(A.preprocess)}},{key:"send",value:function(t,e){var n={body:A.toServer(t),headers:{"Content-Type":"application/json"},method:"POST"};return fetch(this.urlWrite.replace("username",e),n)}},{key:"urlRead",get:function(){throw new Error("Abstract method. Define the URL to GET data.")}},{key:"urlWrite",get:function(){throw new Error("Abstract method. Define the URL to POST data.")}}]),t}(),k=function(){function t(){g(this,t)}return _(t,[{key:"render",value:function(){return t.createElement(this.template)}},{key:"bind",value:function(){}},{key:"template",get:function(){throw new Error("Abstract method. Template string must be provided to render the view.")}},{key:"element",get:function(){return this._element||(this._element=this.render(),this.bind()),this._element}}],[{key:"createElement",value:function(t){var e=document.createElement("template");return e.innerHTML=t,e.content}}]),t}(),x=function(t){function e(){return g(this,e),w(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,k),_(e,[{key:"bind",value:function(){}},{key:"onStartClick",value:function(){}},{key:"template",get:function(){return'<div id="main" class="central__content">\n    <div id="intro" class="intro">\n      <h1 class="intro__asterisk" title="Загрузка&hellip;">*</h1>\n      <p class="intro__motto">\n        <sup>*</sup> Это не&nbsp;фото. Это картина маслом нидерландского художника-фотореалиста Tjalf Sparnaay.\n      </p>\n    </div>\n  </div>'}}]),e}(),T=document.querySelector("main.central"),j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;e.innerHTML="",e.appendChild(t)},F=function(){function t(){g(this,t),this._state=O.props}return _(t,[{key:"init",value:function(){throw new Error("init() is an abstract method, which must be implemented in descendant.")}}]),t}(),I=function(t){function e(){g(this,e);var t=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._view=new x,t}return b(e,F),_(e,[{key:"init",value:function(){j(this._view.element)}}]),e}(),M=function(t){function e(){return g(this,e),w(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,k),_(e,[{key:"bind",value:function(){var t=this,e=this.element.querySelector(".greeting__continue"),n=this.element.querySelector(".greeting__link");e.onclick=function(){return t.onProceedBtnClick()},n.onclick=function(e){e.preventDefault(),t.onStatsBtnClick()}}},{key:"onProceedBtnClick",value:function(){}},{key:"template",get:function(){return'<div class="greeting central--blur">\n      <div class="greeting__logo"><img src="img/logo_big.png" width="201" height="89" alt="Pixel Hunter"></div>\n        <h1 class="greeting__asterisk">*</h1>\n        <div class="greeting__challenge">\n          <h3>Лучшие художники-фотореалисты бросают&nbsp;тебе&nbsp;вызов!</h3>\n          <p>Правила игры просты.<br>\n          Нужно отличить рисунок&nbsp;от&nbsp;фотографии и&nbsp;сделать выбор.<br>\n          Задача кажется тривиальной, но&nbsp;не&nbsp;думай, что всё так просто.<br>\n          Фотореализм обманчив и&nbsp;коварен.<br>\n          Помни, главное&nbsp;— смотреть очень внимательно.</p>\n        </div>\n      <div class="greeting__continue"><span><img src="img/arrow_right.svg" width="64" height="64" alt="Next"></span></div>\n    </div>\n    <a href="#" class="greeting__link">Лучшие результаты</a>'}}]),e}(),N=function(t){function e(){g(this,e);var t=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._view=new M,t}return b(e,F),_(e,[{key:"init",value:function(){j(this._view.element),this._view.onProceedBtnClick=function(){O.changeState({template:h.rules}),Su.goTo(p.RULES)},this._view.onStatsBtnClick=function(){O.changeState({template:h.stats}),Su.goTo(p.STATS+"=Unknown Raccoon")}}}]),e}(),R=function(t){function e(){return g(this,e),w(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,k),_(e,[{key:"bind",value:function(){var t=this,e=this.element.querySelector(".header__back"),n=document.querySelector(".modal");n.querySelector(".modal__inner").onclick=function(e){e.preventDefault(),e.target.classList.contains("js-modal-close")?n.classList.remove("open"):e.target.classList.contains("js-game-abort")&&(n.classList.remove("open"),t.onBtnClick())},e.onclick=function(e){e.preventDefault(),O.props.template===h.game?n.classList.add("open"):t.onBtnClick()}}},{key:"onBtnClick",value:function(){}},{key:"template",get:function(){return'<div class="header__back" title="В начало игры">\n    <span class="back">\n       <img src="img/arrow_left.svg" width="45" height="45" alt="Back">\n       <img src="img/logo_small.png" width="101" height="44">\n     </span>\n   </div>'}}]),e}(),L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.time,n=setInterval(function(){--e<=5&&(t.classList.add("game__timer--flashing"),0===e&&(t.classList.remove("game__timer--flashing"),t.classList.add("game__timer--timeup"),clearInterval(n))),t.innerHTML=""+e},1e3)},B=function(t){function e(t){g(this,e);var n=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._state=t,n}return b(e,k),_(e,[{key:"bind",value:function(){var t=this.element.querySelector(".header"),e=this.element.querySelector(".game__timer");t.insertBefore(et(this._state),t.childNodes[0]),L(e)}},{key:"template",get:function(){return'<header class="header">\n      <h1 class="game__timer">'+this._state.time+'</h1>\n      <div class="game__lives">\n        '+new Array(3-this._state.lives).fill('<img src="img/heart__empty.svg" class="game__heart" alt="Empty life">').join("")+"\n        "+new Array(this._state.lives).fill('<img src="img/heart__full.svg" class="game__heart" alt="Life">').join("")+"\n      </div>\n    </header>"}}]),e}(),C=function(t){return new B(t).element},U=new Map([["correct",'<li class="stats__result stats__result--correct"></li>'],[l,'<li class="stats__result stats__result--wrong"></li>'],["slow",'<li class="stats__result stats__result--slow"></li>'],["fast",'<li class="stats__result stats__result--fast"></li>']]),D=function(t){function e(t,n){g(this,e);var r=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r._state=t,r._answersMarkup=n.map(function(t){return U.get(t)}),r}return b(e,k),_(e,[{key:"_renderProgressBar",value:function(){return this._state.template===h.game||0===this._state.lives?new Array(this._state.gamesTotal-this._state.gameNumber).fill('<li class="stats__result stats__result--unknown"></li>').join(""):""}},{key:"template",get:function(){return'<ul class="stats">\n              '+this._answersMarkup.join("")+"\n              "+this._renderProgressBar()+"\n              </ul>"}}]),e}(),G=function(t,e){return new D(t,e).element},W=function(n,r,i){for(var o=[],a=[];o.length<r;){var s=0===Math.round(Math.random())?"paintings":"photos",u=Math.floor(Math.random()*n[s].length);if(!(a.indexOf(u)>=0)){a.push(u),a.push(s);var c=n[s][u];o.push({origin:s,url:c})}}var l=a.filter(function(t){return t.length});if(i===f){if(t(l)){var h="photos"===l[0]?"paintings":"photos",p=Math.floor(Math.random()*n[h].length);o.pop(),o.push({origin:h,url:n[h][p]})}var v=o.map(function(t){return t.origin}).map(function(t){return t.length}),d=e(v),y=o[v.indexOf(d)].origin,g=!0,_=!1,m=void 0;try{for(var b,w=o[Symbol.iterator]();!(g=(b=w.next()).done);g=!0)b.value.uniqueOrigin=y}catch(t){_=!0,m=t}finally{try{!g&&w.return&&w.return()}finally{if(_)throw m}}}return o},q=function(t){function e(t){g(this,e);var n=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._state=t,n}return b(e,k),_(e,[{key:"bind",value:function(){var t=this;this.formElem=this.element.querySelector(".game__content");var e=this.element.querySelector(".game");this.element.insertBefore(C(this._state),this.element.childNodes[0]),e.appendChild(G(this._state,this._state.playerAnswers)),this.formElem.onclick=function(e){t.onFormClick(e),t.formElem.reset()}}},{key:"onFormClick",value:function(t){}},{key:"template",get:function(){return'<div class="game">\n      <p class="game__task">'+this._state.gameType.task+'</p>\n      <form class="game__content '+this._state.gameType.classModifier+'">\n        '+n(this._state.gameType.options,this._state.gameType.type)+"\n      </form>\n    </div>"}}]),e}(),V=function(){function t(){g(this,t)}return _(t,null,[{key:"show",value:function(){var t=document.createElement("div");t.className="loader",document.body.classList.add("loader-backdrop"),document.body.appendChild(t)}},{key:"hide",value:function(){"loader"===document.body.children[document.body.children.length-1].className&&(document.body.classList.remove("loader-backdrop"),document.body.children[document.body.children.length-1].remove())}}]),t}(),z=function(t,e,n){if(n++,O.changeState({template:h.game,gameType:v[t],gameNumber:n,lives:e.livesCount}),n<O.props.gamesTotal&&O.props.lives>0)new $(O).init();else if(n===O.props.gamesTotal&&O.props.lives>0){var r={stats:O.props.playerAnswers,lives:O.props.lives};V.show(),O.changeState({template:h.stats,victory:!0}),Su.uploadStats(r,O.props.player).then(function(){return V.hide()}).then(function(){return Su.goTo(p.STATS)})}else O.changeState({template:h.stats}),Su.goTo(p.STATS)},Y=function(t,e,n){var r=t.target;switch(r.tagName){case"INPUT":r.setAttribute("checked","checked"),e.gameType.isOptionBlockable&&function(t){var e=t.parentNode.querySelectorAll('input[type="radio"]'),n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.disabled=!0}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}(r),r.value===r.parentNode.children[0].dataset.origin?n.push("correct"):n.push(l);break;case"DIV":e.gameType.type===f&&r.dataset.origin===r.firstElementChild.dataset.origin?n.push("correct"):n.push(l);break;default:return null}return n},H=function(t){return-1===t.indexOf(l)||null},J=function(t,e,n){return H(t)?e>=d.slowAnswerThreshold&&e<=d.fastAnswerThreshold?O.props.playerAnswers.push("correct"):e>d.fastAnswerThreshold?O.props.playerAnswers.push("fast"):e<d.slowAnswerThreshold&&O.props.playerAnswers.push("slow"):(n.livesCount--,O.props.playerAnswers.push(l)),n},K=0,X=void 0,$=function(t){function e(){g(this,e);var t=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._time=t._state.time,t._view=new q(t._state),t._statsCounter={livesCount:t._state.lives},X=setInterval(function(){t._time--,0===t._time&&(t._stopTimer(),t._statsCounter.livesCount--,t._state.playerAnswers.push(l),e._incrementGameScreen(),z(K,t._statsCounter,t._state.gameNumber))},1e3),t}return b(e,F),_(e,[{key:"init",value:function(){var t=this,n=[];j(this._view.element),K=0===this._state.gameNumber?0:K,this._view.onFormClick=function(r){Y(r,t._state,n),t._view.formElem.checkValidity()&&(J(n,t._stopTimer(),t._statsCounter),e._incrementGameScreen(),z(K,t._statsCounter,t._state.gameNumber))}}},{key:"_stopTimer",value:function(){return clearInterval(X),this._time}}],[{key:"_incrementGameScreen",value:function(){++K===v.length&&(K=0)}}]),e}(),Z=function(t){var e={};return e.correctPoints=t.correctAnswers*y.correctAnswerPoints,e.fastPoints=t.fastAnswers*y.fastAnswerPoints,e.lifeBonusPoints=t.lives*y.lifeBonusPoints,e.slowPokePoints=-t.slowAnswers*y.slowAnswerPoints,e.total=t.lives>0?t.correctAnswers*y.correctAnswerPoints+t.fastAnswers*y.fastAnswerPoints+t.lives*y.lifeBonusPoints-t.slowAnswers*y.slowAnswerPoints:"Fail",e},Q=function(t){function e(t){g(this,e);var n=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._state=t,n.caption=n._state.lives>0?"Победа!":"POTRACHENO!",n._getAnswers(),n}return b(e,k),_(e,[{key:"bind",value:function(){var t=this,e=this.element.querySelector(".header"),n=this.element.querySelectorAll(".stats-td");e.insertBefore(et(this._state),e.childNodes[0]),n.forEach(function(e,n){var r=!0===t._state.victory||0===t._state.lives?t._state.playerAnswers:t._state.playerAnswers[n];e.appendChild(G(t._state,r))})}},{key:"_showMainContent",value:function(){return 0===this._state.playerAnswers.length?"<p>Нет статистики по&nbsp;игроку "+location.hash.split("=")[1]+". Сыграйте, и&nbsp;она появится!</p>":"<h1>"+this._insertCaption(this.caption)+"</h1>\n          "+this._generateStatsLink()+"\n          "+this._renderStatsTable()}},{key:"_getAnswers",value:function(){var t=this;return this._state.playerName&&this._state.serverStats&&this._state.serverStats.forEach(function(e){t._state.playerAnswers.push(e.stats)}),null}},{key:"_insertCaption",value:function(t){return this._state.playerName&&this._state.serverStats?"Лучшие игры "+this._state.playerName:""+t}},{key:"_insertTimeStamp",value:function(t){return this._state.playerName&&this._state.serverStats?"<time>"+t+"</time>":""}},{key:"_generateStatsLink",value:function(){return this._state.victory?'<p>Поздравляем! Ваш результат будет доступен по&nbsp;<a href="'+location.href+"="+this._state.player+'" onclick="location.reload()">этой ссылке</a>.</p>':""}},{key:"_renderStatsTable",value:function(){var t=[],e=this._state.serverStats?this._state.serverStats:[{lives:this._state.lives,stats:this._state.playerAnswers}],n=!0,r=!1,i=void 0;try{for(var o,a=e.entries()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=S(s,2),c=u[0],f=u[1],l=f.stats.filter(function(t){return"fast"===t}).length,h=f.stats.filter(function(t){return"correct"===t}).length,p=f.stats.filter(function(t){return"slow"===t}).length;this._state.correctAnswers=h+l+p,this._state.slowAnswers=p,this._state.fastAnswers=l,this._state.lives=this._state.serverStats?f.lives:this._state.lives;var v=Z(this._state);t.push(this._insertTimeStamp(new Date(f.date).toLocaleString("ru"))+'\n      <table class="result__table">\n        <tr>\n          <td class="result__number">'+ ++c+'.</td>\n          <td colspan="2" class="stats-td"></td>\n          <td class="result__points">×&nbsp;'+y.correctAnswerPoints+'</td>\n          <td class="result__total">'+v.correctPoints+'</td>\n        </tr>\n        <tr>\n          <td></td>\n          <td class="result__extra">Бонус за&nbsp;скорость:</td>\n          <td class="result__extra">'+this._state.fastAnswers+'&nbsp;<span class="stats__result stats__result--fast"></span></td>\n          <td class="result__points">×&nbsp;'+y.fastAnswerPoints+'</td>\n          <td class="result__total">'+v.fastPoints+'</td>\n        </tr>\n        <tr>\n          <td></td>\n          <td class="result__extra">Бонус за&nbsp;жизни:</td>\n          <td class="result__extra">'+this._state.lives+'&nbsp;<span class="stats__result stats__result--heart"></span></td>\n          <td class="result__points">×&nbsp;'+y.lifeBonusPoints+'</td>\n          <td class="result__total">'+v.lifeBonusPoints+'</td>\n        </tr>\n        <tr>\n          <td></td>\n          <td class="result__extra">Штраф за&nbsp;медлительность:</td>\n          <td class="result__extra">'+this._state.slowAnswers+'&nbsp;<span class="stats__result stats__result--slow"></span></td>\n          <td class="result__points">×&nbsp;'+y.slowAnswerPoints+'</td>\n          <td class="result__total">'+v.slowPokePoints+'</td>\n        </tr>\n        <tr>\n          <td colspan="5" class="result__total  result__total--final">'+v.total+"</td>\n        </tr>\n      </table>")}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t.join("")}},{key:"template",get:function(){return'<header class="header"></header>\n      <div class="result">'+this._showMainContent()+"</div>"}}]),e}(),tt=function(t){function e(t){g(this,e);var n=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._state.playerName=t,n}return b(e,F),_(e,[{key:"_localInit",value:function(){V.hide(),this._view=new Q(this._state),j(this._view.element)}},{key:"init",value:function(){var t=this;X&&clearInterval(X),this._state.playerName?(V.show(),Su.downloadStats(this._state.playerName).then(function(e){return t._collectStats(e)}).then(function(){return j(t._view.element)}).then(function(){return V.hide()}).catch(function(e){return t._localInit()})):this._localInit()}},{key:"clearData",value:function(){delete this._state.serverStats,delete this._state.playerName}},{key:"_collectStats",value:function(t){this._state.serverStats=t,this._view=new Q(this._state)}}]),e}(),et=function(t){var e=new R;return e.onBtnClick=function(){if(X&&clearInterval(X),t&&(t.playerAnswers.length=0),O.changeState(d),(new tt).clearData(),O.props.template===h.stats)return location.hash="",void(new Su).init();O.changeState({template:h.greeting}),Su.goTo(p.GREETING)},e.element},nt=function(t){function e(){return g(this,e),w(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,k),_(e,[{key:"bind",value:function(){var t=this;this.header=this.element.querySelector(".header"),this.form=this.element.querySelector(".rules__form"),this.input=this.element.querySelector(".rules__input"),this.submit=this.element.querySelector(".rules__button"),this.header.insertBefore(et(),this.header.childNodes[0]),this.form.oninput=function(){return t.onFormInput()},this.form.onsubmit=function(e){e.preventDefault(),t.onFormSubmit(),t.form.reset()}}},{key:"onFormInput",value:function(){}},{key:"onFormSubmit",value:function(){}},{key:"template",get:function(){return'<header class="header"></header>\n    <div class="rules">\n      <h1 class="rules__title">Правила</h1>\n      <p class="rules__description">Угадай 10&nbsp;раз для каждого изображения, фото это \n      <img src="img/photo_icon.png" width="16" height="16"> или рисунок \n      <img src="img/paint_icon.png" width="16" height="16" alt="">.<br>\n        Фотографиями или рисунками могут быть оба изображения.<br>\n        На&nbsp;каждую попытку отводится 30&nbsp;секунд.<br>\n        Ошибиться можно не&nbsp;более 3&nbsp;раз.<br>\n        <br>\n        Готовы?\n      </p>\n      <form class="rules__form">\n        <input class="rules__input" type="text" placeholder="Ваше имя" required>\n        <button class="rules__button continue" disabled>Go!</button>\n      </form>\n    </div>'}}]),e}(),rt=function(t){function e(){g(this,e);var t=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._view=new nt,t}return b(e,F),_(e,[{key:"init",value:function(){var t=this;j(this._view.element),this._view.onFormInput=function(){t._view.submit.disabled=!t._view.form.checkValidity()},this._view.onFormSubmit=function(){O.changeState({player:t._view.input.value,template:h.game}),Su.goTo(p.GAME)}}}]),e}(),it="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ot=r(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),at={}.hasOwnProperty,st=function(t,e){return at.call(t,e)},ut=function(t){try{return!!t()}catch(t){return!0}},ct=!ut(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),ft=r(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),lt=function(t){return"object"==typeof t?null!==t:"function"==typeof t},ht=function(t){if(!lt(t))throw TypeError(t+" is not an object!");return t},pt=ot.document,vt=lt(pt)&&lt(pt.createElement),dt=function(t){return vt?pt.createElement(t):{}},yt=!ct&&!ut(function(){return 7!=Object.defineProperty(dt("div"),"a",{get:function(){return 7}}).a}),gt=function(t,e){if(!lt(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!lt(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!lt(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!lt(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},_t=Object.defineProperty,mt={f:ct?Object.defineProperty:function(t,e,n){if(ht(t),e=gt(e,!0),ht(n),yt)try{return _t(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},bt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},wt=ct?function(t,e,n){return mt.f(t,e,bt(1,n))}:function(t,e,n){return t[e]=n,t},St=0,Et=Math.random(),Ot=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++St+Et).toString(36))},At=r(function(t){var e=Ot("src"),n=Function.toString,r=(""+n).split("toString");ft.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,o){var a="function"==typeof i;a&&(st(i,"name")||wt(i,"name",n)),t[n]!==i&&(a&&(st(i,e)||wt(i,e,t[n]?""+t[n]:r.join(String(n)))),t===ot?t[n]=i:o?t[n]?t[n]=i:wt(t,n,i):(delete t[n],wt(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),Pt=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},kt=function(t,e,n){if(Pt(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},xt=function(t,e,n){var r,i,o,a,s=t&xt.F,u=t&xt.G,c=t&xt.S,f=t&xt.P,l=t&xt.B,h=u?ot:c?ot[e]||(ot[e]={}):(ot[e]||{}).prototype,p=u?ft:ft[e]||(ft[e]={}),v=p.prototype||(p.prototype={});u&&(n=e);for(r in n)o=((i=!s&&h&&void 0!==h[r])?h:n)[r],a=l&&i?kt(o,ot):f&&"function"==typeof o?kt(Function.call,o):o,h&&At(h,r,o,t&xt.U),p[r]!=o&&wt(p,r,a),f&&v[r]!=o&&(v[r]=o)};ot.core=ft,xt.F=1,xt.G=2,xt.S=4,xt.P=8,xt.B=16,xt.W=32,xt.U=64,xt.R=128;var Tt=xt,jt=r(function(t){var e=Ot("meta"),n=mt.f,r=0,i=Object.isExtensible||function(){return!0},o=!ut(function(){return i(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!lt(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!st(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!st(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&i(t)&&!st(t,e)&&a(t),t}}}),Ft=ot["__core-js_shared__"]||(ot["__core-js_shared__"]={}),It=function(t){return Ft[t]||(Ft[t]={})},Mt=r(function(t){var e=It("wks"),n=ot.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:Ot)("Symbol."+t))}).store=e}),Nt=mt.f,Rt=Mt("toStringTag"),Lt=function(t,e,n){t&&!st(t=n?t:t.prototype,Rt)&&Nt(t,Rt,{configurable:!0,value:e})},Bt={f:Mt},Ct=mt.f,Ut=function(t){var e=ft.Symbol||(ft.Symbol=ot.Symbol||{});"_"==t.charAt(0)||t in e||Ct(e,t,{value:Bt.f(t)})},Dt={}.toString,Gt=function(t){return Dt.call(t).slice(8,-1)},Wt=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Gt(t)?t.split(""):Object(t)},qt=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},Vt=function(t){return Wt(qt(t))},zt=Math.ceil,Yt=Math.floor,Ht=function(t){return isNaN(t=+t)?0:(t>0?Yt:zt)(t)},Jt=Math.min,Kt=function(t){return t>0?Jt(Ht(t),9007199254740991):0},Xt=Math.max,$t=Math.min,Zt=function(t,e){return(t=Ht(t))<0?Xt(t+e,0):$t(t,e)},Qt=function(t){return function(e,n,r){var i,o=Vt(e),a=Kt(o.length),s=Zt(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},te=It("keys"),ee=function(t){return te[t]||(te[t]=Ot(t))},ne=Qt(!1),re=ee("IE_PROTO"),ie=function(t,e){var n,r=Vt(t),i=0,o=[];for(n in r)n!=re&&st(r,n)&&o.push(n);for(;e.length>i;)st(r,n=e[i++])&&(~ne(o,n)||o.push(n));return o},oe="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ae=Object.keys||function(t){return ie(t,oe)},se=function(t,e){for(var n,r=Vt(t),i=ae(r),o=i.length,a=0;o>a;)if(r[n=i[a++]]===e)return n},ue={f:Object.getOwnPropertySymbols},ce={f:{}.propertyIsEnumerable},fe=function(t){var e=ae(t),n=ue.f;if(n)for(var r,i=n(t),o=ce.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e},le=Array.isArray||function(t){return"Array"==Gt(t)},he=ct?Object.defineProperties:function(t,e){ht(t);for(var n,r=ae(e),i=r.length,o=0;i>o;)mt.f(t,n=r[o++],e[n]);return t},pe=ot.document&&document.documentElement,ve=ee("IE_PROTO"),de=function(){},ye=function(){var t,e=dt("iframe"),n=oe.length;for(e.style.display="none",pe.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ye=t.F;n--;)delete ye.prototype[oe[n]];return ye()},ge=Object.create||function(t,e){var n;return null!==t?(de.prototype=ht(t),n=new de,de.prototype=null,n[ve]=t):n=ye(),void 0===e?n:he(n,e)},_e=oe.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(t){return ie(t,_e)}},be=me.f,we={}.toString,Se="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ee=function(t){try{return be(t)}catch(t){return Se.slice()}},Oe={f:function(t){return Se&&"[object Window]"==we.call(t)?Ee(t):be(Vt(t))}},Ae=Object.getOwnPropertyDescriptor,Pe={f:ct?Ae:function(t,e){if(t=Vt(t),e=gt(e,!0),yt)try{return Ae(t,e)}catch(t){}if(st(t,e))return bt(!ce.f.call(t,e),t[e])}},ke=jt.KEY,xe=Pe.f,Te=mt.f,je=Oe.f,Fe=ot.Symbol,Ie=ot.JSON,Me=Ie&&Ie.stringify,Ne=Mt("_hidden"),Re=Mt("toPrimitive"),Le={}.propertyIsEnumerable,Be=It("symbol-registry"),Ce=It("symbols"),Ue=It("op-symbols"),De=Object.prototype,Ge="function"==typeof Fe,We=ot.QObject,qe=!We||!We.prototype||!We.prototype.findChild,Ve=ct&&ut(function(){return 7!=ge(Te({},"a",{get:function(){return Te(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=xe(De,e);r&&delete De[e],Te(t,e,n),r&&t!==De&&Te(De,e,r)}:Te,ze=function(t){var e=Ce[t]=ge(Fe.prototype);return e._k=t,e},Ye=Ge&&"symbol"==typeof Fe.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Fe},He=function(t,e,n){return t===De&&He(Ue,e,n),ht(t),e=gt(e,!0),ht(n),st(Ce,e)?(n.enumerable?(st(t,Ne)&&t[Ne][e]&&(t[Ne][e]=!1),n=ge(n,{enumerable:bt(0,!1)})):(st(t,Ne)||Te(t,Ne,bt(1,{})),t[Ne][e]=!0),Ve(t,e,n)):Te(t,e,n)},Je=function(t,e){ht(t);for(var n,r=fe(e=Vt(e)),i=0,o=r.length;o>i;)He(t,n=r[i++],e[n]);return t},Ke=function(t){var e=Le.call(this,t=gt(t,!0));return!(this===De&&st(Ce,t)&&!st(Ue,t))&&(!(e||!st(this,t)||!st(Ce,t)||st(this,Ne)&&this[Ne][t])||e)},Xe=function(t,e){if(t=Vt(t),e=gt(e,!0),t!==De||!st(Ce,e)||st(Ue,e)){var n=xe(t,e);return!n||!st(Ce,e)||st(t,Ne)&&t[Ne][e]||(n.enumerable=!0),n}},$e=function(t){for(var e,n=je(Vt(t)),r=[],i=0;n.length>i;)st(Ce,e=n[i++])||e==Ne||e==ke||r.push(e);return r},Ze=function(t){for(var e,n=t===De,r=je(n?Ue:Vt(t)),i=[],o=0;r.length>o;)!st(Ce,e=r[o++])||n&&!st(De,e)||i.push(Ce[e]);return i};Ge||(At((Fe=function(){if(this instanceof Fe)throw TypeError("Symbol is not a constructor!");var t=Ot(arguments.length>0?arguments[0]:void 0),e=function(n){this===De&&e.call(Ue,n),st(this,Ne)&&st(this[Ne],t)&&(this[Ne][t]=!1),Ve(this,t,bt(1,n))};return ct&&qe&&Ve(De,t,{configurable:!0,set:e}),ze(t)}).prototype,"toString",function(){return this._k}),Pe.f=Xe,mt.f=He,me.f=Oe.f=$e,ce.f=Ke,ue.f=Ze,ct&&At(De,"propertyIsEnumerable",Ke,!0),Bt.f=function(t){return ze(Mt(t))}),Tt(Tt.G+Tt.W+Tt.F*!Ge,{Symbol:Fe});for(var Qe="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tn=0;Qe.length>tn;)Mt(Qe[tn++]);for(var Qe=ae(Mt.store),tn=0;Qe.length>tn;)Ut(Qe[tn++]);Tt(Tt.S+Tt.F*!Ge,"Symbol",{for:function(t){return st(Be,t+="")?Be[t]:Be[t]=Fe(t)},keyFor:function(t){if(Ye(t))return se(Be,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),Tt(Tt.S+Tt.F*!Ge,"Object",{create:function(t,e){return void 0===e?ge(t):Je(ge(t),e)},defineProperty:He,defineProperties:Je,getOwnPropertyDescriptor:Xe,getOwnPropertyNames:$e,getOwnPropertySymbols:Ze}),Ie&&Tt(Tt.S+Tt.F*(!Ge||ut(function(){var t=Fe();return"[null]"!=Me([t])||"{}"!=Me({a:t})||"{}"!=Me(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!Ye(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(e=r[1])&&(n=e),!n&&le(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!Ye(e))return e}),r[1]=e,Me.apply(Ie,r)}}}),Fe.prototype[Re]||wt(Fe.prototype,Re,Fe.prototype.valueOf),Lt(Fe,"Symbol"),Lt(Math,"Math",!0),Lt(ot.JSON,"JSON",!0),Tt(Tt.S,"Object",{create:ge}),Tt(Tt.S+Tt.F*!ct,"Object",{defineProperty:mt.f}),Tt(Tt.S+Tt.F*!ct,"Object",{defineProperties:he});var en=function(t,e){var n=(ft.Object||{})[t]||Object[t],r={};r[t]=e(n),Tt(Tt.S+Tt.F*ut(function(){n(1)}),"Object",r)},nn=Pe.f;en("getOwnPropertyDescriptor",function(){return function(t,e){return nn(Vt(t),e)}});var rn=function(t){return Object(qt(t))},on=ee("IE_PROTO"),an=Object.prototype,sn=Object.getPrototypeOf||function(t){return t=rn(t),st(t,on)?t[on]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?an:null};en("getPrototypeOf",function(){return function(t){return sn(rn(t))}}),en("keys",function(){return function(t){return ae(rn(t))}}),en("getOwnPropertyNames",function(){return Oe.f});var un=jt.onFreeze;en("freeze",function(t){return function(e){return t&&lt(e)?t(un(e)):e}});var cn=jt.onFreeze;en("seal",function(t){return function(e){return t&&lt(e)?t(cn(e)):e}});var fn=jt.onFreeze;en("preventExtensions",function(t){return function(e){return t&&lt(e)?t(fn(e)):e}}),en("isFrozen",function(t){return function(e){return!lt(e)||!!t&&t(e)}}),en("isSealed",function(t){return function(e){return!lt(e)||!!t&&t(e)}}),en("isExtensible",function(t){return function(e){return!!lt(e)&&(!t||t(e))}});var ln=Object.assign,hn=!ln||ut(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=ln({},t)[n]||Object.keys(ln({},e)).join("")!=r})?function(t,e){for(var n=rn(t),r=arguments.length,i=1,o=ue.f,a=ce.f;r>i;)for(var s,u=Wt(arguments[i++]),c=o?ae(u).concat(o(u)):ae(u),f=c.length,l=0;f>l;)a.call(u,s=c[l++])&&(n[s]=u[s]);return n}:ln;Tt(Tt.S+Tt.F,"Object",{assign:hn});var pn=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};Tt(Tt.S,"Object",{is:pn});var vn=function(t,e){if(ht(t),!lt(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},dn={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=kt(Function.call,Pe.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return vn(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:vn};Tt(Tt.S,"Object",{setPrototypeOf:dn.set});var yn=Mt("toStringTag"),gn="Arguments"==Gt(function(){return arguments}()),_n=function(t,e){try{return t[e]}catch(t){}},mn=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=_n(e=Object(t),yn))?n:gn?Gt(e):"Object"==(r=Gt(e))&&"function"==typeof e.callee?"Arguments":r},bn={};bn[Mt("toStringTag")]="z",bn+""!="[object z]"&&At(Object.prototype,"toString",function(){return"[object "+mn(this)+"]"},!0);var wn=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},Sn=[].slice,En={},On=function(t,e,n){if(!(e in En)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";En[e]=Function("F,a","return new F("+r.join(",")+")")}return En[e](t,n)},An=Function.bind||function(t){var e=Pt(this),n=Sn.call(arguments,1),r=function(){var i=n.concat(Sn.call(arguments));return this instanceof r?On(e,i.length,i):wn(e,i,t)};return lt(e.prototype)&&(r.prototype=e.prototype),r};Tt(Tt.P,"Function",{bind:An});var Pn=mt.f,kn=Function.prototype,xn=/^\s*function ([^ (]*)/,Tn=Object.isExtensible||function(){return!0};"name"in kn||ct&&Pn(kn,"name",{configurable:!0,get:function(){try{var t=this,e=(""+t).match(xn)[1];return st(t,"name")||!Tn(t)||Pn(t,"name",bt(5,e)),e}catch(t){return""}}});var jn=Mt("hasInstance"),Fn=Function.prototype;jn in Fn||mt.f(Fn,jn,{value:function(t){if("function"!=typeof this||!lt(t))return!1;if(!lt(this.prototype))return t instanceof this;for(;t=sn(t);)if(this.prototype===t)return!0;return!1}});var In="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Mn="["+In+"]",Nn=RegExp("^"+Mn+Mn+"*"),Rn=RegExp(Mn+Mn+"*$"),Ln=function(t,e,n){var r={},i=ut(function(){return!!In[t]()||"​"!="​"[t]()}),o=r[t]=i?e(Bn):In[t];n&&(r[n]=o),Tt(Tt.P+Tt.F*i,"String",r)},Bn=Ln.trim=function(t,e){return t=String(qt(t)),1&e&&(t=t.replace(Nn,"")),2&e&&(t=t.replace(Rn,"")),t},Cn=Ln,Un=ot.parseInt,Dn=Cn.trim,Gn=/^[\-+]?0[xX]/,Wn=8!==Un(In+"08")||22!==Un(In+"0x16")?function(t,e){var n=Dn(String(t),3);return Un(n,e>>>0||(Gn.test(n)?16:10))}:Un;Tt(Tt.G+Tt.F*(parseInt!=Wn),{parseInt:Wn});var qn=ot.parseFloat,Vn=Cn.trim,zn=1/qn(In+"-0")!=-1/0?function(t){var e=Vn(String(t),3),n=qn(e);return 0===n&&"-"==e.charAt(0)?-0:n}:qn;Tt(Tt.G+Tt.F*(parseFloat!=zn),{parseFloat:zn});var Yn=dn.set,Hn=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&lt(r)&&Yn&&Yn(t,r),t},Jn=me.f,Kn=Pe.f,Xn=mt.f,$n=Cn.trim,Zn=ot.Number,Qn=Zn,tr=Zn.prototype,er="Number"==Gt(ge(tr)),nr="trim"in String.prototype,rr=function(t){var e=gt(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=nr?e.trim():$n(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,s=e.slice(2),u=0,c=s.length;u<c;u++)if((a=s.charCodeAt(u))<48||a>i)return NaN;return parseInt(s,r)}}return+e};if(!Zn(" 0o1")||!Zn("0b1")||Zn("+0x1")){Zn=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Zn&&(er?ut(function(){tr.valueOf.call(n)}):"Number"!=Gt(n))?Hn(new Qn(rr(e)),n,Zn):rr(e)};for(var ir,or=ct?Jn(Qn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ar=0;or.length>ar;ar++)st(Qn,ir=or[ar])&&!st(Zn,ir)&&Xn(Zn,ir,Kn(Qn,ir));Zn.prototype=tr,tr.constructor=Zn,At(ot,"Number",Zn)}var sr=function(t,e){if("number"!=typeof t&&"Number"!=Gt(t))throw TypeError(e);return+t},ur=function(t){var e=String(qt(this)),n="",r=Ht(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},cr=1..toFixed,fr=Math.floor,lr=[0,0,0,0,0,0],hr="Number.toFixed: incorrect invocation!",pr=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*lr[n],lr[n]=r%1e7,r=fr(r/1e7)},vr=function(t){for(var e=6,n=0;--e>=0;)n+=lr[e],lr[e]=fr(n/t),n=n%t*1e7},dr=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==lr[t]){var n=String(lr[t]);e=""===e?n:e+ur.call("0",7-n.length)+n}return e},yr=function(t,e,n){return 0===e?n:e%2==1?yr(t,e-1,n*t):yr(t*t,e/2,n)},gr=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};Tt(Tt.P+Tt.F*(!!cr&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!ut(function(){cr.call({})})),"Number",{toFixed:function(t){var e,n,r,i,o=sr(this,hr),a=Ht(t),s="",u="0";if(a<0||a>20)throw RangeError(hr);if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(s="-",o=-o),o>1e-21)if(e=gr(o*yr(2,69,1))-69,n=e<0?o*yr(2,-e,1):o/yr(2,e,1),n*=4503599627370496,(e=52-e)>0){for(pr(0,n),r=a;r>=7;)pr(1e7,0),r-=7;for(pr(yr(10,r,1),0),r=e-1;r>=23;)vr(1<<23),r-=23;vr(1<<r),pr(1,1),vr(2),u=dr()}else pr(0,n),pr(1<<-e,0),u=dr()+ur.call("0",a);return u=a>0?s+((i=u.length)<=a?"0."+ur.call("0",a-i)+u:u.slice(0,i-a)+"."+u.slice(i-a)):s+u}});var _r=1..toPrecision;Tt(Tt.P+Tt.F*(ut(function(){return"1"!==_r.call(1,void 0)})||!ut(function(){_r.call({})})),"Number",{toPrecision:function(t){var e=sr(this,"Number#toPrecision: incorrect invocation!");return void 0===t?_r.call(e):_r.call(e,t)}}),Tt(Tt.S,"Number",{EPSILON:Math.pow(2,-52)});var mr=ot.isFinite;Tt(Tt.S,"Number",{isFinite:function(t){return"number"==typeof t&&mr(t)}});var br=Math.floor,wr=function(t){return!lt(t)&&isFinite(t)&&br(t)===t};Tt(Tt.S,"Number",{isInteger:wr}),Tt(Tt.S,"Number",{isNaN:function(t){return t!=t}});var Sr=Math.abs;Tt(Tt.S,"Number",{isSafeInteger:function(t){return wr(t)&&Sr(t)<=9007199254740991}}),Tt(Tt.S,"Number",{MAX_SAFE_INTEGER:9007199254740991}),Tt(Tt.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991}),Tt(Tt.S+Tt.F*(Number.parseFloat!=zn),"Number",{parseFloat:zn}),Tt(Tt.S+Tt.F*(Number.parseInt!=Wn),"Number",{parseInt:Wn});var Er=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)},Or=Math.sqrt,Ar=Math.acosh;Tt(Tt.S+Tt.F*!(Ar&&710==Math.floor(Ar(Number.MAX_VALUE))&&Ar(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:Er(t-1+Or(t-1)*Or(t+1))}});var Pr=Math.asinh;Tt(Tt.S+Tt.F*!(Pr&&1/Pr(0)>0),"Math",{asinh:i});var kr=Math.atanh;Tt(Tt.S+Tt.F*!(kr&&1/kr(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}});var xr=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};Tt(Tt.S,"Math",{cbrt:function(t){return xr(t=+t)*Math.pow(Math.abs(t),1/3)}}),Tt(Tt.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}});var Tr=Math.exp;Tt(Tt.S,"Math",{cosh:function(t){return(Tr(t=+t)+Tr(-t))/2}});var jr=Math.expm1,Fr=!jr||jr(10)>22025.465794806718||jr(10)<22025.465794806718||-2e-17!=jr(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:jr;Tt(Tt.S+Tt.F*(Fr!=Math.expm1),"Math",{expm1:Fr});var Ir=Math.pow,Mr=Ir(2,-52),Nr=Ir(2,-23),Rr=Ir(2,127)*(2-Nr),Lr=Ir(2,-126),Br=function(t){return t+1/Mr-1/Mr};Tt(Tt.S,"Math",{fround:function(t){var e,n,r=Math.abs(t),i=xr(t);return r<Lr?i*Br(r/Lr/Nr)*Lr*Nr:(e=(1+Nr/Mr)*r,(n=e-(e-r))>Rr||n!=n?i*(1/0):i*n)}});var Cr=Math.abs;Tt(Tt.S,"Math",{hypot:function(t,e){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=Cr(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(i)}});var Ur=Math.imul;Tt(Tt.S+Tt.F*ut(function(){return-5!=Ur(4294967295,5)||2!=Ur.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}}),Tt(Tt.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}}),Tt(Tt.S,"Math",{log1p:Er}),Tt(Tt.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}}),Tt(Tt.S,"Math",{sign:xr});var Dr=Math.exp;Tt(Tt.S+Tt.F*ut(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(Fr(t)-Fr(-t))/2:(Dr(t-1)-Dr(-t-1))*(Math.E/2)}});var Gr=Math.exp;Tt(Tt.S,"Math",{tanh:function(t){var e=Fr(t=+t),n=Fr(-t);return e==1/0?1:n==1/0?-1:(e-n)/(Gr(t)+Gr(-t))}}),Tt(Tt.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}});var Wr=String.fromCharCode,qr=String.fromCodePoint;Tt(Tt.S+Tt.F*(!!qr&&1!=qr.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],Zt(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?Wr(e):Wr(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),Tt(Tt.S,"String",{raw:function(t){for(var e=Vt(t.raw),n=Kt(e.length),r=arguments.length,i=[],o=0;n>o;)i.push(String(e[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}}),Cn("trim",function(t){return function(){return t(this,3)}});var Vr=function(t){return function(e,n){var r,i,o=String(qt(e)),a=Ht(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},zr={},Yr={};wt(Yr,Mt("iterator"),function(){return this});var Hr=function(t,e,n){t.prototype=ge(Yr,{next:bt(1,n)}),Lt(t,e+" Iterator")},Jr=Mt("iterator"),Kr=!([].keys&&"next"in[].keys()),Xr=function(){return this},$r=function(t,e,n,r,i,o,a){Hr(n,e,r);var s,u,c,f=function(t){if(!Kr&&t in v)return v[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",h="values"==i,p=!1,v=t.prototype,d=v[Jr]||v["@@iterator"]||i&&v[i],y=d||f(i),g=i?h?f("entries"):y:void 0,_="Array"==e?v.entries||d:d;if(_&&(c=sn(_.call(new t)))!==Object.prototype&&(Lt(c,l,!0),st(c,Jr)||wt(c,Jr,Xr)),h&&d&&"values"!==d.name&&(p=!0,y=function(){return d.call(this)}),(Kr||p||!v[Jr])&&wt(v,Jr,y),zr[e]=y,zr[l]=Xr,i)if(s={values:h?y:f("values"),keys:o?y:f("keys"),entries:g},a)for(u in s)u in v||At(v,u,s[u]);else Tt(Tt.P+Tt.F*(Kr||p),e,s);return s},Zr=Vr(!0);$r(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Zr(e,n),this._i+=t.length,{value:t,done:!1})});var Qr=Vr(!1);Tt(Tt.P,"String",{codePointAt:function(t){return Qr(this,t)}});var ti=Mt("match"),ei=function(t){var e;return lt(t)&&(void 0!==(e=t[ti])?!!e:"RegExp"==Gt(t))},ni=function(t,e,n){if(ei(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(qt(t))},ri=Mt("match"),ii=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[ri]=!1,!"/./"[t](e)}catch(t){}}return!0},oi="".endsWith;Tt(Tt.P+Tt.F*ii("endsWith"),"String",{endsWith:function(t){var e=ni(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=Kt(e.length),i=void 0===n?r:Math.min(Kt(n),r),o=String(t);return oi?oi.call(e,o,i):e.slice(i-o.length,i)===o}});Tt(Tt.P+Tt.F*ii("includes"),"String",{includes:function(t){return!!~ni(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}}),Tt(Tt.P,"String",{repeat:ur});var ai="".startsWith;Tt(Tt.P+Tt.F*ii("startsWith"),"String",{startsWith:function(t){var e=ni(this,t,"startsWith"),n=Kt(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return ai?ai.call(e,r,n):e.slice(n,n+r.length)===r}});var si=/"/g,ui=function(t,e,n,r){var i=String(qt(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(si,"&quot;")+'"'),o+">"+i+"</"+e+">"},ci=function(t,e){var n={};n[t]=e(ui),Tt(Tt.P+Tt.F*ut(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)};ci("anchor",function(t){return function(e){return t(this,"a","name",e)}}),ci("big",function(t){return function(){return t(this,"big","","")}}),ci("blink",function(t){return function(){return t(this,"blink","","")}}),ci("bold",function(t){return function(){return t(this,"b","","")}}),ci("fixed",function(t){return function(){return t(this,"tt","","")}}),ci("fontcolor",function(t){return function(e){return t(this,"font","color",e)}}),ci("fontsize",function(t){return function(e){return t(this,"font","size",e)}}),ci("italics",function(t){return function(){return t(this,"i","","")}}),ci("link",function(t){return function(e){return t(this,"a","href",e)}}),ci("small",function(t){return function(){return t(this,"small","","")}}),ci("strike",function(t){return function(){return t(this,"strike","","")}}),ci("sub",function(t){return function(){return t(this,"sub","","")}}),ci("sup",function(t){return function(){return t(this,"sup","","")}}),Tt(Tt.S,"Date",{now:function(){return(new Date).getTime()}}),Tt(Tt.P+Tt.F*ut(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=rn(this),n=gt(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}});var fi=Date.prototype.getTime,li=function(t){return t>9?t:"0"+t};Tt(Tt.P+Tt.F*(ut(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!ut(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(fi.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+li(t.getUTCMonth()+1)+"-"+li(t.getUTCDate())+"T"+li(t.getUTCHours())+":"+li(t.getUTCMinutes())+":"+li(t.getUTCSeconds())+"."+(n>99?n:"0"+li(n))+"Z"}});var hi=Date.prototype,pi=hi.toString,vi=hi.getTime;new Date(NaN)+""!="Invalid Date"&&At(hi,"toString",function(){var t=vi.call(this);return t===t?pi.call(this):"Invalid Date"});var di=Mt("toPrimitive"),yi=Date.prototype;di in yi||wt(yi,di,function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return gt(ht(this),"number"!=t)}),Tt(Tt.S,"Array",{isArray:le});var gi=function(t,e,n,r){try{return r?e(ht(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&ht(i.call(t)),e}},_i=Mt("iterator"),mi=Array.prototype,bi=function(t){return void 0!==t&&(zr.Array===t||mi[_i]===t)},wi=function(t,e,n){e in t?mt.f(t,e,bt(0,n)):t[e]=n},Si=Mt("iterator"),Ei=ft.getIteratorMethod=function(t){if(void 0!=t)return t[Si]||t["@@iterator"]||zr[mn(t)]},Oi=Mt("iterator"),Ai=!1;try{var Pi=[7][Oi]();Pi.return=function(){Ai=!0},Array.from(Pi,function(){throw 2})}catch(t){}var ki=function(t,e){if(!e&&!Ai)return!1;var n=!1;try{var r=[7],i=r[Oi]();i.next=function(){return{done:n=!0}},r[Oi]=function(){return i},t(r)}catch(t){}return n};Tt(Tt.S+Tt.F*!ki(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,i,o=rn(t),a="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,c=void 0!==u,f=0,l=Ei(o);if(c&&(u=kt(u,s>2?arguments[2]:void 0,2)),void 0==l||a==Array&&bi(l))for(n=new a(e=Kt(o.length));e>f;f++)wi(n,f,c?u(o[f],f):o[f]);else for(i=l.call(o),n=new a;!(r=i.next()).done;f++)wi(n,f,c?gi(i,u,[r.value,f],!0):r.value);return n.length=f,n}}),Tt(Tt.S+Tt.F*ut(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)wi(n,t,arguments[t++]);return n.length=e,n}});var xi=function(t,e){return!!t&&ut(function(){e?t.call(null,function(){},1):t.call(null)})},Ti=[].join;Tt(Tt.P+Tt.F*(Wt!=Object||!xi(Ti)),"Array",{join:function(t){return Ti.call(Vt(this),void 0===t?",":t)}});var ji=[].slice;Tt(Tt.P+Tt.F*ut(function(){pe&&ji.call(pe)}),"Array",{slice:function(t,e){var n=Kt(this.length),r=Gt(this);if(e=void 0===e?n:e,"Array"==r)return ji.call(this,t,e);for(var i=Zt(t,n),o=Zt(e,n),a=Kt(o-i),s=Array(a),u=0;u<a;u++)s[u]="String"==r?this.charAt(i+u):this[i+u];return s}});var Fi=[].sort,Ii=[1,2,3];Tt(Tt.P+Tt.F*(ut(function(){Ii.sort(void 0)})||!ut(function(){Ii.sort(null)})||!xi(Fi)),"Array",{sort:function(t){return void 0===t?Fi.call(rn(this)):Fi.call(rn(this),Pt(t))}});var Mi=Mt("species"),Ni=function(t){var e;return le(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!le(e.prototype)||(e=void 0),lt(e)&&null===(e=e[Mi])&&(e=void 0)),void 0===e?Array:e},Ri=function(t,e){return new(Ni(t))(e)},Li=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,u=e||Ri;return function(e,c,f){for(var l,h,p=rn(e),v=Wt(p),d=kt(c,f,3),y=Kt(v.length),g=0,_=n?u(e,y):r?u(e,0):void 0;y>g;g++)if((s||g in v)&&(l=v[g],h=d(l,g,p),t))if(n)_[g]=h;else if(h)switch(t){case 3:return!0;case 5:return l;case 6:return g;case 2:_.push(l)}else if(o)return!1;return a?-1:i||o?o:_}},Bi=Li(0),Ci=xi([].forEach,!0);Tt(Tt.P+Tt.F*!Ci,"Array",{forEach:function(t){return Bi(this,t,arguments[1])}});var Ui=Li(1);Tt(Tt.P+Tt.F*!xi([].map,!0),"Array",{map:function(t){return Ui(this,t,arguments[1])}});var Di=Li(2);Tt(Tt.P+Tt.F*!xi([].filter,!0),"Array",{filter:function(t){return Di(this,t,arguments[1])}});var Gi=Li(3);Tt(Tt.P+Tt.F*!xi([].some,!0),"Array",{some:function(t){return Gi(this,t,arguments[1])}});var Wi=Li(4);Tt(Tt.P+Tt.F*!xi([].every,!0),"Array",{every:function(t){return Wi(this,t,arguments[1])}});var qi=function(t,e,n,r,i){Pt(e);var o=rn(t),a=Wt(o),s=Kt(o.length),u=i?s-1:0,c=i?-1:1;if(n<2)for(;;){if(u in a){r=a[u],u+=c;break}if(u+=c,i?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;i?u>=0:s>u;u+=c)u in a&&(r=e(r,a[u],u,o));return r};Tt(Tt.P+Tt.F*!xi([].reduce,!0),"Array",{reduce:function(t){return qi(this,t,arguments.length,arguments[1],!1)}}),Tt(Tt.P+Tt.F*!xi([].reduceRight,!0),"Array",{reduceRight:function(t){return qi(this,t,arguments.length,arguments[1],!0)}});var Vi=Qt(!1),zi=[].indexOf,Yi=!!zi&&1/[1].indexOf(1,-0)<0;Tt(Tt.P+Tt.F*(Yi||!xi(zi)),"Array",{indexOf:function(t){return Yi?zi.apply(this,arguments)||0:Vi(this,t,arguments[1])}});var Hi=[].lastIndexOf,Ji=!!Hi&&1/[1].lastIndexOf(1,-0)<0;Tt(Tt.P+Tt.F*(Ji||!xi(Hi)),"Array",{lastIndexOf:function(t){if(Ji)return Hi.apply(this,arguments)||0;var e=Vt(this),n=Kt(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,Ht(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}});var Ki=[].copyWithin||function(t,e){var n=rn(this),r=Kt(n.length),i=Zt(t,r),o=Zt(e,r),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?r:Zt(a,r))-o,r-i),u=1;for(o<i&&i<o+s&&(u=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=u,o+=u;return n},Xi=Mt("unscopables"),$i=Array.prototype;void 0==$i[Xi]&&wt($i,Xi,{});var Zi=function(t){$i[Xi][t]=!0};Tt(Tt.P,"Array",{copyWithin:Ki}),Zi("copyWithin");var Qi=function(t){for(var e=rn(this),n=Kt(e.length),r=arguments.length,i=Zt(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:Zt(o,n);a>i;)e[i++]=t;return e};Tt(Tt.P,"Array",{fill:Qi}),Zi("fill");var to=Li(5),eo=!0;"find"in[]&&Array(1).find(function(){eo=!1}),Tt(Tt.P+Tt.F*eo,"Array",{find:function(t){return to(this,t,arguments.length>1?arguments[1]:void 0)}}),Zi("find");var no=Li(6),ro=!0;"findIndex"in[]&&Array(1).findIndex(function(){ro=!1}),Tt(Tt.P+Tt.F*ro,"Array",{findIndex:function(t){return no(this,t,arguments.length>1?arguments[1]:void 0)}}),Zi("findIndex");var io=Mt("species"),oo=function(t){var e=ot[t];ct&&e&&!e[io]&&mt.f(e,io,{configurable:!0,get:function(){return this}})};oo("Array");var ao=function(t,e){return{value:e,done:!!t}},so=$r(Array,"Array",function(t,e){this._t=Vt(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,ao(1)):"keys"==e?ao(0,n):"values"==e?ao(0,t[n]):ao(0,[n,t[n]])},"values");zr.Arguments=zr.Array,Zi("keys"),Zi("values"),Zi("entries");var uo=function(){var t=ht(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},co=mt.f,fo=me.f,lo=ot.RegExp,ho=lo,po=lo.prototype,vo=/a/g,yo=/a/g,go=new lo(vo)!==vo;if(ct&&(!go||ut(function(){return yo[Mt("match")]=!1,lo(vo)!=vo||lo(yo)==yo||"/a/i"!=lo(vo,"i")}))){lo=function(t,e){var n=this instanceof lo,r=ei(t),i=void 0===e;return!n&&r&&t.constructor===lo&&i?t:Hn(go?new ho(r&&!i?t.source:t,e):ho((r=t instanceof lo)?t.source:t,r&&i?uo.call(t):e),n?this:po,lo)};for(var _o=fo(ho),mo=0;_o.length>mo;)!function(t){t in lo||co(lo,t,{configurable:!0,get:function(){return ho[t]},set:function(e){ho[t]=e}})}(_o[mo++]);po.constructor=lo,lo.prototype=po,At(ot,"RegExp",lo)}oo("RegExp"),ct&&"g"!=/./g.flags&&mt.f(RegExp.prototype,"flags",{configurable:!0,get:uo});var bo=/./.toString,wo=function(t){At(RegExp.prototype,"toString",t,!0)};ut(function(){return"/a/b"!=bo.call({source:"a",flags:"b"})})?wo(function(){var t=ht(this);return"/".concat(t.source,"/","flags"in t?t.flags:!ct&&t instanceof RegExp?uo.call(t):void 0)}):"toString"!=bo.name&&wo(function(){return bo.call(this)});var So=function(t,e,n){var r=Mt(t),i=n(qt,r,""[t]),o=i[0],a=i[1];ut(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})&&(At(String.prototype,t,o),wt(RegExp.prototype,r,2==e?function(t,e){return a.call(t,this,e)}:function(t){return a.call(t,this)}))};So("match",1,function(t,e,n){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]}),So("replace",2,function(t,e,n){return[function(r,i){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]}),So("search",1,function(t,e,n){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]}),So("split",2,function(t,e,n){var r=ei,i=n,o=[].push,a="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[a]||2!="ab".split(/(?:ab)*/)[a]||4!=".".split(/(.?)(.?)/)[a]||".".split(/()()/)[a]>1||"".split(/.?/)[a]){var s=void 0===/()??/.exec("")[1];n=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return i.call(n,t,e);var u,c,f,l,h,p=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,y=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,v+"g");for(s||(u=new RegExp("^"+g.source+"$(?!\\s)",v));(c=g.exec(n))&&!((f=c.index+c[0][a])>d&&(p.push(n.slice(d,c.index)),!s&&c[a]>1&&c[0].replace(u,function(){for(h=1;h<arguments[a]-2;h++)void 0===arguments[h]&&(c[h]=void 0)}),c[a]>1&&c.index<n[a]&&o.apply(p,c.slice(1)),l=c[0][a],d=f,p[a]>=y));)g.lastIndex===c.index&&g.lastIndex++;return d===n[a]?!l&&g.test("")||p.push(""):p.push(n.slice(d)),p[a]>y?p.slice(0,y):p}}else"0".split(void 0,0)[a]&&(n=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(r,i){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]});var Eo,Oo,Ao,Po=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t},ko=r(function(t){var e={},n={},r=t.exports=function(t,r,i,o,a){var s,u,c,f,l=a?function(){return t}:Ei(t),h=kt(i,o,r?2:1),p=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(bi(l)){for(s=Kt(t.length);s>p;p++)if((f=r?h(ht(u=t[p])[0],u[1]):h(t[p]))===e||f===n)return f}else for(c=l.call(t);!(u=c.next()).done;)if((f=gi(c,h,u.value,r))===e||f===n)return f};r.BREAK=e,r.RETURN=n}),xo=Mt("species"),To=function(t,e){var n,r=ht(t).constructor;return void 0===r||void 0==(n=ht(r)[xo])?e:Pt(n)},jo=ot.process,Fo=ot.setImmediate,Io=ot.clearImmediate,Mo=ot.MessageChannel,No=0,Ro={},Lo=function(){var t=+this;if(Ro.hasOwnProperty(t)){var e=Ro[t];delete Ro[t],e()}},Bo=function(t){Lo.call(t.data)};Fo&&Io||(Fo=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Ro[++No]=function(){wn("function"==typeof t?t:Function(t),e)},Eo(No),No},Io=function(t){delete Ro[t]},"process"==Gt(jo)?Eo=function(t){jo.nextTick(kt(Lo,t,1))}:Mo?(Ao=(Oo=new Mo).port2,Oo.port1.onmessage=Bo,Eo=kt(Ao.postMessage,Ao,1)):ot.addEventListener&&"function"==typeof postMessage&&!ot.importScripts?(Eo=function(t){ot.postMessage(t+"","*")},ot.addEventListener("message",Bo,!1)):Eo="onreadystatechange"in dt("script")?function(t){pe.appendChild(dt("script")).onreadystatechange=function(){pe.removeChild(this),Lo.call(t)}}:function(t){setTimeout(kt(Lo,t,1),0)});var Co,Uo,Do,Go={set:Fo,clear:Io},Wo=Go.set,qo=ot.MutationObserver||ot.WebKitMutationObserver,Vo=ot.process,zo=ot.Promise,Yo="process"==Gt(Vo),Ho=function(){var t,e,n,r=function(){var r,i;for(Yo&&(r=Vo.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(Yo)n=function(){Vo.nextTick(r)};else if(qo){var i=!0,o=document.createTextNode("");new qo(r).observe(o,{characterData:!0}),n=function(){o.data=i=!i}}else if(zo&&zo.resolve){var a=zo.resolve();n=function(){a.then(r)}}else n=function(){Wo.call(ot,r)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}},Jo=function(t,e,n){for(var r in e)At(t,r,e[r],n);return t},Ko=Go.set,Xo=Ho(),$o=ot.TypeError,Zo=ot.process,Qo=ot.Promise,Zo=ot.process,ta="process"==mn(Zo),ea=function(){},na=!!function(){try{var t=Qo.resolve(1),e=(t.constructor={})[Mt("species")]=function(t){t(ea,ea)};return(ta||"function"==typeof PromiseRejectionEvent)&&t.then(ea)instanceof e}catch(t){}}(),ra=function(t,e){return t===e||t===Qo&&e===Do},ia=function(t){var e;return!(!lt(t)||"function"!=typeof(e=t.then))&&e},oa=function(t){return ra(Qo,t)?new aa(t):new Uo(t)},aa=Uo=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw $o("Bad Promise constructor");e=t,n=r}),this.resolve=Pt(e),this.reject=Pt(n)},sa=function(t){try{t()}catch(t){return{error:t}}},ua=function(t,e){if(!t._n){t._n=!0;var n=t._c;Xo(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{a?(i||(2==t._h&&la(t),t._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===e.promise?u($o("Promise-chain cycle")):(o=ia(n))?o.call(n,s,u):s(n)):u(r)}catch(t){u(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&ca(t)})}},ca=function(t){Ko.call(ot,function(){var e,n,r,i=t._v;if(fa(t)&&(e=sa(function(){ta?Zo.emit("unhandledRejection",i,t):(n=ot.onunhandledrejection)?n({promise:t,reason:i}):(r=ot.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=ta||fa(t)?2:1),t._a=void 0,e)throw e.error})},fa=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if((e=n[r++]).fail||!fa(e.promise))return!1;return!0},la=function(t){Ko.call(ot,function(){var e;ta?Zo.emit("rejectionHandled",t):(e=ot.onrejectionhandled)&&e({promise:t,reason:t._v})})},ha=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),ua(e,!0))},pa=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw $o("Promise can't be resolved itself");(e=ia(t))?Xo(function(){var r={_w:n,_d:!1};try{e.call(t,kt(pa,r,1),kt(ha,r,1))}catch(t){ha.call(r,t)}}):(n._v=t,n._s=1,ua(n,!1))}catch(t){ha.call({_w:n,_d:!1},t)}}};na||(Qo=function(t){Po(this,Qo,"Promise","_h"),Pt(t),Co.call(this);try{t(kt(pa,this,1),kt(ha,this,1))}catch(t){ha.call(this,t)}},(Co=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=Jo(Qo.prototype,{then:function(t,e){var n=oa(To(this,Qo));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=ta?Zo.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&ua(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),aa=function(){var t=new Co;this.promise=t,this.resolve=kt(pa,t,1),this.reject=kt(ha,t,1)}),Tt(Tt.G+Tt.W+Tt.F*!na,{Promise:Qo}),Lt(Qo,"Promise"),oo("Promise"),Do=ft.Promise,Tt(Tt.S+Tt.F*!na,"Promise",{reject:function(t){var e=oa(this);return(0,e.reject)(t),e.promise}}),Tt(Tt.S+Tt.F*!na,"Promise",{resolve:function(t){if(t instanceof Qo&&ra(t.constructor,this))return t;var e=oa(this);return(0,e.resolve)(t),e.promise}}),Tt(Tt.S+Tt.F*!(na&&ki(function(t){Qo.all(t).catch(ea)})),"Promise",{all:function(t){var e=this,n=oa(e),r=n.resolve,i=n.reject,o=sa(function(){var n=[],o=0,a=1;ko(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=oa(e),r=n.reject,i=sa(function(){ko(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}});var va=mt.f,da=jt.fastKey,ya=ct?"_s":"size",ga=function(t,e){var n,r=da(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n},_a={getConstructor:function(t,e,n,r){var i=t(function(t,o){Po(t,i,e,"_i"),t._i=ge(null),t._f=void 0,t._l=void 0,t[ya]=0,void 0!=o&&ko(o,n,t[r],t)});return Jo(i.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[ya]=0},delete:function(t){var e=this,n=ga(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[ya]--}return!!n},forEach:function(t){Po(this,i,"forEach");for(var e,n=kt(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!ga(this,t)}}),ct&&va(i.prototype,"size",{get:function(){return qt(this[ya])}}),i},def:function(t,e,n){var r,i,o=ga(t,e);return o?o.v=n:(t._l=o={i:i=da(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[ya]++,"F"!==i&&(t._i[i]=o)),t},getEntry:ga,setStrong:function(t,e,n){$r(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?ao(0,n.k):"values"==e?ao(0,n.v):ao(0,[n.k,n.v]):(t._t=void 0,ao(1))},n?"entries":"values",!n,!0),oo(e)}},ma=function(t,e,n,r,i,o){var a=ot[t],s=a,u=i?"set":"add",c=s&&s.prototype,f={},l=function(t){var e=c[t];At(c,t,"delete"==t?function(t){return!(o&&!lt(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!lt(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!lt(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof s&&(o||c.forEach&&!ut(function(){(new s).entries().next()}))){var h=new s,p=h[u](o?{}:-0,1)!=h,v=ut(function(){h.has(1)}),d=ki(function(t){new s(t)}),y=!o&&ut(function(){for(var t=new s,e=5;e--;)t[u](e,e);return!t.has(-0)});d||((s=e(function(e,n){Po(e,s,t);var r=Hn(new a,e,s);return void 0!=n&&ko(n,i,r[u],r),r})).prototype=c,c.constructor=s),(v||y)&&(l("delete"),l("has"),i&&l("get")),(y||p)&&l(u),o&&c.clear&&delete c.clear}else s=r.getConstructor(e,t,i,u),Jo(s.prototype,n),jt.NEED=!0;return Lt(s,t),f[t]=s,Tt(Tt.G+Tt.W+Tt.F*(s!=a),f),o||r.setStrong(s,t,i),s},ba=ma("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=_a.getEntry(this,t);return e&&e.v},set:function(t,e){return _a.def(this,0===t?0:t,e)}},_a,!0),wa=ma("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return _a.def(this,t=0===t?0:t,t)}},_a),Sa=jt.getWeak,Ea=Li(5),Oa=Li(6),Aa=0,Pa=function(t){return t._l||(t._l=new ka)},ka=function(){this.a=[]},xa=function(t,e){return Ea(t.a,function(t){return t[0]===e})};ka.prototype={get:function(t){var e=xa(this,t);if(e)return e[1]},has:function(t){return!!xa(this,t)},set:function(t,e){var n=xa(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=Oa(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}};var Ta={getConstructor:function(t,e,n,r){var i=t(function(t,o){Po(t,i,e,"_i"),t._i=Aa++,t._l=void 0,void 0!=o&&ko(o,n,t[r],t)});return Jo(i.prototype,{delete:function(t){if(!lt(t))return!1;var e=Sa(t);return!0===e?Pa(this).delete(t):e&&st(e,this._i)&&delete e[this._i]},has:function(t){if(!lt(t))return!1;var e=Sa(t);return!0===e?Pa(this).has(t):e&&st(e,this._i)}}),i},def:function(t,e,n){var r=Sa(ht(e),!0);return!0===r?Pa(t).set(e,n):r[t._i]=n,t},ufstore:Pa},ja=r(function(t){var e,n=Li(0),r=jt.getWeak,i=Object.isExtensible,o=Ta.ufstore,a={},s=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},u={get:function(t){if(lt(t)){var e=r(t);return!0===e?o(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return Ta.def(this,t,e)}},c=t.exports=ma("WeakMap",s,u,Ta,!0,!0);7!=(new c).set((Object.freeze||Object)(a),7).get(a)&&(e=Ta.getConstructor(s),hn(e.prototype,u),jt.NEED=!0,n(["delete","has","get","set"],function(t){var n=c.prototype,r=n[t];At(n,t,function(n,o){if(lt(n)&&!i(n)){this._f||(this._f=new e);var a=this._f[t](n,o);return"set"==t?this:a}return r.call(this,n,o)})}))});ma("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return Ta.def(this,t,!0)}},Ta,!1,!0);for(var Fa,Ia=Ot("typed_array"),Ma=Ot("view"),Na=!(!ot.ArrayBuffer||!ot.DataView),Ra=Na,La=0,Ba="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");La<9;)(Fa=ot[Ba[La++]])?(wt(Fa.prototype,Ia,!0),wt(Fa.prototype,Ma,!0)):Ra=!1;var Ca={ABV:Na,CONSTR:Ra,TYPED:Ia,VIEW:Ma},Ua=r(function(t,e){var n=me.f,r=mt.f,i=ot.ArrayBuffer,o=ot.DataView,a=ot.Math,s=ot.RangeError,u=ot.Infinity,c=i,f=a.abs,l=a.pow,h=a.floor,p=a.log,v=a.LN2,d=ct?"_b":"buffer",y=ct?"_l":"byteLength",g=ct?"_o":"byteOffset",_=function(t,e,n){var r,i,o,a=Array(n),s=8*n-e-1,c=(1<<s)-1,d=c>>1,y=23===e?l(2,-24)-l(2,-77):0,g=0,_=t<0||0===t&&1/t<0?1:0;for((t=f(t))!=t||t===u?(i=t!=t?1:0,r=c):(r=h(p(t)/v),t*(o=l(2,-r))<1&&(r--,o*=2),(t+=r+d>=1?y/o:y*l(2,1-d))*o>=2&&(r++,o/=2),r+d>=c?(i=0,r=c):r+d>=1?(i=(t*o-1)*l(2,e),r+=d):(i=t*l(2,d-1)*l(2,e),r=0));e>=8;a[g++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[g++]=255&r,r/=256,s-=8);return a[--g]|=128*_,a},m=function(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,c=n-1,f=t[c--],h=127&f;for(f>>=7;s>0;h=256*h+t[c],c--,s-=8);for(r=h&(1<<-s)-1,h>>=-s,s+=e;s>0;r=256*r+t[c],c--,s-=8);if(0===h)h=1-a;else{if(h===o)return r?NaN:f?-u:u;r+=l(2,e),h-=a}return(f?-1:1)*r*l(2,h-e)},b=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},w=function(t){return[255&t]},S=function(t){return[255&t,t>>8&255]},E=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},O=function(t){return _(t,52,8)},A=function(t){return _(t,23,4)},P=function(t,e,n){r(t.prototype,e,{get:function(){return this[n]}})},k=function(t,e,n,r){var i=+n,o=Ht(i);if(i!=o||o<0||o+e>t[y])throw s("Wrong index!");var a=t[d]._b,u=o+t[g],c=a.slice(u,u+e);return r?c:c.reverse()},x=function(t,e,n,r,i,o){var a=+n,u=Ht(a);if(a!=u||u<0||u+e>t[y])throw s("Wrong index!");for(var c=t[d]._b,f=u+t[g],l=r(+i),h=0;h<e;h++)c[f+h]=l[o?h:e-h-1]},T=function(t,e){Po(t,i,"ArrayBuffer");var n=+e,r=Kt(n);if(n!=r)throw s("Wrong length!");return r};if(Ca.ABV){if(!ut(function(){new i})||!ut(function(){new i(.5)})){for(var j,F=(i=function(t){return new c(T(this,t))}).prototype=c.prototype,I=n(c),M=0;I.length>M;)(j=I[M++])in i||wt(i,j,c[j]);F.constructor=i}var N=new o(new i(2)),R=o.prototype.setInt8;N.setInt8(0,2147483648),N.setInt8(1,2147483649),!N.getInt8(0)&&N.getInt8(1)||Jo(o.prototype,{setInt8:function(t,e){R.call(this,t,e<<24>>24)},setUint8:function(t,e){R.call(this,t,e<<24>>24)}},!0)}else i=function(t){var e=T(this,t);this._b=Qi.call(Array(e),0),this[y]=e},o=function(t,e,n){Po(this,o,"DataView"),Po(t,i,"DataView");var r=t[y],a=Ht(e);if(a<0||a>r)throw s("Wrong offset!");if(n=void 0===n?r-a:Kt(n),a+n>r)throw s("Wrong length!");this[d]=t,this[g]=a,this[y]=n},ct&&(P(i,"byteLength","_l"),P(o,"buffer","_b"),P(o,"byteLength","_l"),P(o,"byteOffset","_o")),Jo(o.prototype,{getInt8:function(t){return k(this,1,t)[0]<<24>>24},getUint8:function(t){return k(this,1,t)[0]},getInt16:function(t){var e=k(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=k(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return b(k(this,4,t,arguments[1]))},getUint32:function(t){return b(k(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return m(k(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return m(k(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){x(this,1,t,w,e)},setUint8:function(t,e){x(this,1,t,w,e)},setInt16:function(t,e){x(this,2,t,S,e,arguments[2])},setUint16:function(t,e){x(this,2,t,S,e,arguments[2])},setInt32:function(t,e){x(this,4,t,E,e,arguments[2])},setUint32:function(t,e){x(this,4,t,E,e,arguments[2])},setFloat32:function(t,e){x(this,4,t,A,e,arguments[2])},setFloat64:function(t,e){x(this,8,t,O,e,arguments[2])}});Lt(i,"ArrayBuffer"),Lt(o,"DataView"),wt(o.prototype,Ca.VIEW,!0),e.ArrayBuffer=i,e.DataView=o}),Da=ot.ArrayBuffer,Ga=Ua.ArrayBuffer,Wa=Ua.DataView,qa=Ca.ABV&&Da.isView,Va=Ga.prototype.slice,za=Ca.VIEW;Tt(Tt.G+Tt.W+Tt.F*(Da!==Ga),{ArrayBuffer:Ga}),Tt(Tt.S+Tt.F*!Ca.CONSTR,"ArrayBuffer",{isView:function(t){return qa&&qa(t)||lt(t)&&za in t}}),Tt(Tt.P+Tt.U+Tt.F*ut(function(){return!new Ga(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==Va&&void 0===e)return Va.call(ht(this),t);for(var n=ht(this).byteLength,r=Zt(t,n),i=Zt(void 0===e?n:e,n),o=new(To(this,Ga))(Kt(i-r)),a=new Wa(this),s=new Wa(o),u=0;r<i;)s.setUint8(u++,a.getUint8(r++));return o}}),oo("ArrayBuffer"),Tt(Tt.G+Tt.W+Tt.F*!Ca.ABV,{DataView:Ua.DataView});var Ya=r(function(t){if(ct){var e=ot,n=ut,r=Tt,i=Ca,o=Ua,a=kt,s=Po,u=bt,c=wt,f=Jo,l=Ht,h=Kt,p=Zt,v=gt,d=st,y=pn,g=mn,_=lt,m=rn,b=bi,w=ge,S=sn,E=me.f,O=Ei,A=Ot,P=Mt,k=Li,x=Qt,T=To,j=so,F=zr,I=ki,M=oo,N=Qi,R=Ki,L=mt,B=Pe,C=L.f,U=B.f,D=e.RangeError,G=e.TypeError,W=e.Uint8Array,q=Array.prototype,V=o.ArrayBuffer,z=o.DataView,Y=k(0),H=k(2),J=k(3),K=k(4),X=k(5),$=k(6),Z=x(!0),Q=x(!1),tt=j.values,et=j.keys,nt=j.entries,rt=q.lastIndexOf,it=q.reduce,at=q.reduceRight,ft=q.join,ht=q.sort,pt=q.slice,vt=q.toString,dt=q.toLocaleString,yt=P("iterator"),_t=P("toStringTag"),St=A("typed_constructor"),Et=A("def_constructor"),At=i.CONSTR,Pt=i.TYPED,xt=i.VIEW,jt=k(1,function(t,e){return Bt(T(t,t[Et]),e)}),Ft=n(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),It=!!W&&!!W.prototype.set&&n(function(){new W(1).set({})}),Nt=function(t,e){if(void 0===t)throw G("Wrong length!");var n=+t,r=h(t);if(e&&!y(n,r))throw D("Wrong length!");return r},Rt=function(t,e){var n=l(t);if(n<0||n%e)throw D("Wrong offset!");return n},Lt=function(t){if(_(t)&&Pt in t)return t;throw G(t+" is not a typed array!")},Bt=function(t,e){if(!(_(t)&&St in t))throw G("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return Ut(T(t,t[Et]),e)},Ut=function(t,e){for(var n=0,r=e.length,i=Bt(t,r);r>n;)i[n]=e[n++];return i},Dt=function(t,e,n){C(t,e,{get:function(){return this._d[n]}})},Gt=function(t){var e,n,r,i,o,s,u=m(t),c=arguments.length,f=c>1?arguments[1]:void 0,l=void 0!==f,p=O(u);if(void 0!=p&&!b(p)){for(s=p.call(u),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);u=r}for(l&&c>2&&(f=a(f,arguments[2],2)),e=0,n=h(u.length),i=Bt(this,n);n>e;e++)i[e]=l?f(u[e],e):u[e];return i},Wt=function(){for(var t=0,e=arguments.length,n=Bt(this,e);e>t;)n[t]=arguments[t++];return n},qt=!!W&&n(function(){dt.call(new W(1))}),Vt=function(){return dt.apply(qt?pt.call(Lt(this)):Lt(this),arguments)},zt={copyWithin:function(t,e){return R.call(Lt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return K(Lt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(Lt(this),arguments)},filter:function(t){return Ct(this,H(Lt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return X(Lt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return $(Lt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(Lt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return Q(Lt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return Z(Lt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ft.apply(Lt(this),arguments)},lastIndexOf:function(t){return rt.apply(Lt(this),arguments)},map:function(t){return jt(Lt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return it.apply(Lt(this),arguments)},reduceRight:function(t){return at.apply(Lt(this),arguments)},reverse:function(){for(var t,e=this,n=Lt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return J(Lt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ht.call(Lt(this),t)},subarray:function(t,e){var n=Lt(this),r=n.length,i=p(t,r);return new(T(n,n[Et]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,h((void 0===e?r:p(e,r))-i))}},Yt=function(t,e){return Ct(this,pt.call(Lt(this),t,e))},Jt=function(t){Lt(this);var e=Rt(arguments[1],1),n=this.length,r=m(t),i=h(r.length),o=0;if(i+e>n)throw D("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Xt={entries:function(){return nt.call(Lt(this))},keys:function(){return et.call(Lt(this))},values:function(){return tt.call(Lt(this))}},$t=function(t,e){return _(t)&&t[Pt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},te=function(t,e){return $t(t,e=v(e,!0))?u(2,t[e]):U(t,e)},ee=function(t,e,n){return!($t(t,e=v(e,!0))&&_(n)&&d(n,"value"))||d(n,"get")||d(n,"set")||n.configurable||d(n,"writable")&&!n.writable||d(n,"enumerable")&&!n.enumerable?C(t,e,n):(t[e]=n.value,t)};At||(B.f=te,L.f=ee),r(r.S+r.F*!At,"Object",{getOwnPropertyDescriptor:te,defineProperty:ee}),n(function(){vt.call({})})&&(vt=dt=function(){return ft.call(this)});var ne=f({},zt);f(ne,Xt),c(ne,yt,Xt.values),f(ne,{slice:Yt,set:Jt,constructor:function(){},toString:vt,toLocaleString:Vt}),Dt(ne,"buffer","b"),Dt(ne,"byteOffset","o"),Dt(ne,"byteLength","l"),Dt(ne,"length","e"),C(ne,_t,{get:function(){return this[Pt]}}),t.exports=function(t,o,a,u){var f=t+((u=!!u)?"Clamped":"")+"Array",l="Uint8Array"!=f,p="get"+t,v="set"+t,d=e[f],y=d||{},m=d&&S(d),b=!d||!i.ABV,O={},A=d&&d.prototype,P=function(t,e){var n=t._d;return n.v[p](e*o+n.o,Ft)},k=function(t,e,n){var r=t._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[v](e*o+r.o,n,Ft)},x=function(t,e){C(t,e,{get:function(){return P(this,e)},set:function(t){return k(this,e,t)},enumerable:!0})};b?(d=a(function(t,e,n,r){s(t,d,f,"_d");var i,a,u,l,p=0,v=0;if(_(e)){if(!(e instanceof V||"ArrayBuffer"==(l=g(e))||"SharedArrayBuffer"==l))return Pt in e?Ut(d,e):Gt.call(d,e);i=e,v=Rt(n,o);var y=e.byteLength;if(void 0===r){if(y%o)throw D("Wrong length!");if((a=y-v)<0)throw D("Wrong length!")}else if((a=h(r)*o)+v>y)throw D("Wrong length!");u=a/o}else u=Nt(e,!0),i=new V(a=u*o);for(c(t,"_d",{b:i,o:v,l:a,e:u,v:new z(i)});p<u;)x(t,p++)}),A=d.prototype=w(ne),c(A,"constructor",d)):I(function(t){new d(null),new d(t)},!0)||(d=a(function(t,e,n,r){s(t,d,f);var i;return _(e)?e instanceof V||"ArrayBuffer"==(i=g(e))||"SharedArrayBuffer"==i?void 0!==r?new y(e,Rt(n,o),r):void 0!==n?new y(e,Rt(n,o)):new y(e):Pt in e?Ut(d,e):Gt.call(d,e):new y(Nt(e,l))}),Y(m!==Function.prototype?E(y).concat(E(m)):E(y),function(t){t in d||c(d,t,y[t])}),d.prototype=A,A.constructor=d);var T=A[yt],j=!!T&&("values"==T.name||void 0==T.name),N=Xt.values;c(d,St,!0),c(A,Pt,f),c(A,xt,!0),c(A,Et,d),(u?new d(1)[_t]==f:_t in A)||C(A,_t,{get:function(){return f}}),O[f]=d,r(r.G+r.W+r.F*(d!=y),O),r(r.S,f,{BYTES_PER_ELEMENT:o,from:Gt,of:Wt}),"BYTES_PER_ELEMENT"in A||c(A,"BYTES_PER_ELEMENT",o),r(r.P,f,zt),M(f),r(r.P+r.F*It,f,{set:Jt}),r(r.P+r.F*!j,f,Xt),r(r.P+r.F*(A.toString!=vt),f,{toString:vt}),r(r.P+r.F*n(function(){new d(1).slice()}),f,{slice:Yt}),r(r.P+r.F*(n(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!n(function(){A.toLocaleString.call([1,2])})),f,{toLocaleString:Vt}),F[f]=j?T:N,j||c(A,yt,N)}}else t.exports=function(){}});Ya("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}}),Ya("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}}),Ya("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0),Ya("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}}),Ya("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}}),Ya("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}}),Ya("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}}),Ya("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}}),Ya("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}});var Ha=(ot.Reflect||{}).apply,Ja=Function.apply;Tt(Tt.S+Tt.F*!ut(function(){Ha(function(){})}),"Reflect",{apply:function(t,e,n){var r=Pt(t),i=ht(n);return Ha?Ha(r,e,i):Ja.call(r,e,i)}});var Ka=(ot.Reflect||{}).construct,Xa=ut(function(){function t(){}return!(Ka(function(){},[],t)instanceof t)}),$a=!ut(function(){Ka(function(){})});Tt(Tt.S+Tt.F*(Xa||$a),"Reflect",{construct:function(t,e){Pt(t),ht(e);var n=arguments.length<3?t:Pt(arguments[2]);if($a&&!Xa)return Ka(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(An.apply(t,r))}var i=n.prototype,o=ge(lt(i)?i:Object.prototype),a=Function.apply.call(t,o,e);return lt(a)?a:o}}),Tt(Tt.S+Tt.F*ut(function(){Reflect.defineProperty(mt.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){ht(t),e=gt(e,!0),ht(n);try{return mt.f(t,e,n),!0}catch(t){return!1}}});var Za=Pe.f;Tt(Tt.S,"Reflect",{deleteProperty:function(t,e){var n=Za(ht(t),e);return!(n&&!n.configurable)&&delete t[e]}});var Qa=function(t){this._t=ht(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};Hr(Qa,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),Tt(Tt.S,"Reflect",{enumerate:function(t){return new Qa(t)}}),Tt(Tt.S,"Reflect",{get:o}),Tt(Tt.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return Pe.f(ht(t),e)}}),Tt(Tt.S,"Reflect",{getPrototypeOf:function(t){return sn(ht(t))}}),Tt(Tt.S,"Reflect",{has:function(t,e){return e in t}});var ts=Object.isExtensible;Tt(Tt.S,"Reflect",{isExtensible:function(t){return ht(t),!ts||ts(t)}});var es=ot.Reflect,ns=es&&es.ownKeys||function(t){var e=me.f(ht(t)),n=ue.f;return n?e.concat(n(t)):e};Tt(Tt.S,"Reflect",{ownKeys:ns});var rs=Object.preventExtensions;Tt(Tt.S,"Reflect",{preventExtensions:function(t){ht(t);try{return rs&&rs(t),!0}catch(t){return!1}}}),Tt(Tt.S,"Reflect",{set:a}),dn&&Tt(Tt.S,"Reflect",{setPrototypeOf:function(t,e){dn.check(t,e);try{return dn.set(t,e),!0}catch(t){return!1}}});var is=Qt(!0);Tt(Tt.P,"Array",{includes:function(t){return is(this,t,arguments.length>1?arguments[1]:void 0)}}),Zi("includes");var os=Vr(!0);Tt(Tt.P,"String",{at:function(t){return os(this,t)}});var as=function(t,e,n,r){var i=String(qt(t)),o=i.length,a=void 0===n?" ":String(n),s=Kt(e);if(s<=o||""==a)return i;var u=s-o,c=ur.call(a,Math.ceil(u/a.length));return c.length>u&&(c=c.slice(0,u)),r?c+i:i+c};Tt(Tt.P,"String",{padStart:function(t){return as(this,t,arguments.length>1?arguments[1]:void 0,!0)}}),Tt(Tt.P,"String",{padEnd:function(t){return as(this,t,arguments.length>1?arguments[1]:void 0,!1)}}),Cn("trimLeft",function(t){return function(){return t(this,1)}},"trimStart"),Cn("trimRight",function(t){return function(){return t(this,2)}},"trimEnd");var ss=RegExp.prototype,us=function(t,e){this._r=t,this._s=e};Hr(us,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),Tt(Tt.P,"String",{matchAll:function(t){if(qt(this),!ei(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in ss?String(t.flags):uo.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=Kt(t.lastIndex),new us(r,e)}}),Ut("asyncIterator"),Ut("observable"),Tt(Tt.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n=Vt(t),r=Pe.f,i=ns(n),o={},a=0;i.length>a;)wi(o,e=i[a++],r(n,e));return o}});var cs=ce.f,fs=function(t){return function(e){for(var n,r=Vt(e),i=ae(r),o=i.length,a=0,s=[];o>a;)cs.call(r,n=i[a++])&&s.push(t?[n,r[n]]:r[n]);return s}},ls=fs(!1);Tt(Tt.S,"Object",{values:function(t){return ls(t)}});var hs=fs(!0);Tt(Tt.S,"Object",{entries:function(t){return hs(t)}});var ps=!ut(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete ot[t]});ct&&Tt(Tt.P+ps,"Object",{__defineGetter__:function(t,e){mt.f(rn(this),t,{get:Pt(e),enumerable:!0,configurable:!0})}}),ct&&Tt(Tt.P+ps,"Object",{__defineSetter__:function(t,e){mt.f(rn(this),t,{set:Pt(e),enumerable:!0,configurable:!0})}});var vs=Pe.f;ct&&Tt(Tt.P+ps,"Object",{__lookupGetter__:function(t){var e,n=rn(this),r=gt(t,!0);do{if(e=vs(n,r))return e.get}while(n=sn(n))}});var ds=Pe.f;ct&&Tt(Tt.P+ps,"Object",{__lookupSetter__:function(t){var e,n=rn(this),r=gt(t,!0);do{if(e=ds(n,r))return e.set}while(n=sn(n))}});var ys=function(t,e){var n=[];return ko(t,!1,n.push,n,e),n},gs=function(t){return function(){if(mn(this)!=t)throw TypeError(t+"#toJSON isn't generic");return ys(this)}};Tt(Tt.P+Tt.R,"Map",{toJSON:gs("Map")}),Tt(Tt.P+Tt.R,"Set",{toJSON:gs("Set")}),Tt(Tt.S,"System",{global:ot}),Tt(Tt.S,"Error",{isError:function(t){return"Error"===Gt(t)}}),Tt(Tt.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}}),Tt(Tt.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}}),Tt(Tt.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}}),Tt(Tt.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}});var _s=It("metadata"),ms=_s.store||(_s.store=new ja),bs=function(t,e,n){var r=ms.get(t);if(!r){if(!n)return;ms.set(t,r=new ba)}var i=r.get(e);if(!i){if(!n)return;r.set(e,i=new ba)}return i},ws={store:ms,map:bs,has:function(t,e,n){var r=bs(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=bs(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){bs(n,r,!0).set(t,e)},keys:function(t,e){var n=bs(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){Tt(Tt.S,"Reflect",t)}},Ss=ws.key,Es=ws.set;ws.exp({defineMetadata:function(t,e,n,r){Es(t,e,ht(n),Ss(r))}});var Os=ws.key,As=ws.map,Ps=ws.store;ws.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:Os(arguments[2]),r=As(ht(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var i=Ps.get(e);return i.delete(n),!!i.size||Ps.delete(e)}});var ks=ws.has,xs=ws.get,Ts=ws.key,js=function(t,e,n){if(ks(t,e,n))return xs(t,e,n);var r=sn(e);return null!==r?js(t,r,n):void 0};ws.exp({getMetadata:function(t,e){return js(t,ht(e),arguments.length<3?void 0:Ts(arguments[2]))}});var Fs=ws.keys,Is=ws.key,Ms=function(t,e){var n=Fs(t,e),r=sn(t);if(null===r)return n;var i=Ms(r,e);return i.length?n.length?ys(new wa(n.concat(i))):i:n};ws.exp({getMetadataKeys:function(t){return Ms(ht(t),arguments.length<2?void 0:Is(arguments[1]))}});var Ns=ws.get,Rs=ws.key;ws.exp({getOwnMetadata:function(t,e){return Ns(t,ht(e),arguments.length<3?void 0:Rs(arguments[2]))}});var Ls=ws.keys,Bs=ws.key;ws.exp({getOwnMetadataKeys:function(t){return Ls(ht(t),arguments.length<2?void 0:Bs(arguments[1]))}});var Cs=ws.has,Us=ws.key,Ds=function(t,e,n){if(Cs(t,e,n))return!0;var r=sn(e);return null!==r&&Ds(t,r,n)};ws.exp({hasMetadata:function(t,e){return Ds(t,ht(e),arguments.length<3?void 0:Us(arguments[2]))}});var Gs=ws.has,Ws=ws.key;ws.exp({hasOwnMetadata:function(t,e){return Gs(t,ht(e),arguments.length<3?void 0:Ws(arguments[2]))}});var qs=ws.key,Vs=ws.set;ws.exp({metadata:function(t,e){return function(n,r){Vs(t,e,(void 0!==r?ht:Pt)(n),qs(r))}}});var zs=Ho(),Ys=ot.process,Hs="process"==Gt(Ys);Tt(Tt.G,{asap:function(t){var e=Hs&&Ys.domain;zs(e?e.bind(t):t)}});var Js=Ho(),Ks=Mt("observable"),Xs=ko.RETURN,$s=function(t){return null==t?void 0:Pt(t)},Zs=function(t){var e=t._c;e&&(t._c=void 0,e())},Qs=function(t){return void 0===t._o},tu=function(t){Qs(t)||(t._o=void 0,Zs(t))},eu=function(t,e){ht(t),this._c=void 0,this._o=t,t=new nu(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:Pt(n),this._c=n)}catch(e){return void t.error(e)}Qs(this)&&Zs(this)};eu.prototype=Jo({},{unsubscribe:function(){tu(this)}});var nu=function(t){this._s=t};nu.prototype=Jo({},{next:function(t){var e=this._s;if(!Qs(e)){var n=e._o;try{var r=$s(n.next);if(r)return r.call(n,t)}catch(t){try{tu(e)}finally{throw t}}}},error:function(t){var e=this._s;if(Qs(e))throw t;var n=e._o;e._o=void 0;try{var r=$s(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{Zs(e)}finally{throw t}}return Zs(e),t},complete:function(t){var e=this._s;if(!Qs(e)){var n=e._o;e._o=void 0;try{var r=$s(n.complete);t=r?r.call(n,t):void 0}catch(t){try{Zs(e)}finally{throw t}}return Zs(e),t}}});var ru=function(t){Po(this,ru,"Observable","_f")._f=Pt(t)};Jo(ru.prototype,{subscribe:function(t){return new eu(t,this._f)},forEach:function(t){var e=this;return new(ft.Promise||ot.Promise)(function(n,r){Pt(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),Jo(ru,{from:function(t){var e="function"==typeof this?this:ru,n=$s(ht(t)[Ks]);if(n){var r=ht(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return Js(function(){if(!n){try{if(ko(t,!1,function(t){if(e.next(t),n)return Xs})===Xs)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:ru)(function(t){var e=!1;return Js(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),wt(ru.prototype,Ks,function(){return this}),Tt(Tt.G,{Observable:ru}),oo("Observable");var iu=ot,ou=function(){for(var t=Pt(this),e=arguments.length,n=Array(e),r=0,i=iu._,o=!1;e>r;)(n[r]=arguments[r++])===i&&(o=!0);return function(){var r,a=this,s=arguments.length,u=0,c=0;if(!o&&!s)return wn(t,n,a);if(r=n.slice(),o)for(;e>u;u++)r[u]===i&&(r[u]=arguments[c++]);for(;s>c;)r.push(arguments[c++]);return wn(t,r,a)}},au=ot.navigator,su=!!au&&/MSIE .\./.test(au.userAgent),uu=function(t){return su?function(e,n){return t(wn(ou,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};Tt(Tt.G+Tt.B+Tt.F*su,{setTimeout:uu(ot.setTimeout),setInterval:uu(ot.setInterval)}),Tt(Tt.G+Tt.B,{setImmediate:Go.set,clearImmediate:Go.clear});for(var cu=Mt("iterator"),fu=Mt("toStringTag"),lu=zr.Array,hu=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],pu=0;pu<5;pu++){var vu,du=hu[pu],yu=ot[du],gu=yu&&yu.prototype;if(gu){gu[cu]||wt(gu,cu,lu),gu[fu]||wt(gu,fu,du),zr[du]=lu;for(vu in so)gu[vu]||At(gu,vu,so[vu],!0)}}r(function(t){!function(e){function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=c(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(e,i,o,a){var s=r(t[e],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&_.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var i;this._invoke=function(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return i=i?i.then(r,r):r()}}function c(t,e,n){var i=O;return function(o,a){if(i===P)throw new Error("Generator is already running");if(i===k){if("throw"===o)throw a;return d()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=f(s,n);if(u){if(u===x)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===O)throw i=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=P;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?k:A,c.arg===x)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=k,n.method="throw",n.arg=c.arg)}}}function f(t,e){var n=t.iterator[e.method];if(n===y){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=y,f(t,e),"throw"===e.method))return x;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,x;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,x):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,x)}function l(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(l,this),this.reset(!0)}function v(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(_.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=y,e.done=!0,e};return r.next=r}}return{next:d}}function d(){return{value:y,done:!0}}var y,g=Object.prototype,_=g.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},b=m.iterator||"@@iterator",w=m.asyncIterator||"@@asyncIterator",S=m.toStringTag||"@@toStringTag",E=e.regeneratorRuntime;if(E)t.exports=E;else{(E=e.regeneratorRuntime=t.exports).wrap=n;var O="suspendedStart",A="suspendedYield",P="executing",k="completed",x={},T={};T[b]=function(){return this};var j=Object.getPrototypeOf,F=j&&j(j(v([])));F&&F!==g&&_.call(F,b)&&(T=F);var I=a.prototype=i.prototype=Object.create(T);o.prototype=I.constructor=a,a.constructor=o,a[S]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,S in t||(t[S]="GeneratorFunction")),t.prototype=Object.create(I),t},E.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[w]=function(){return this},E.AsyncIterator=u,E.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return E.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(I),I[S]="Generator",I[b]=function(){return this},I.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=v,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&_.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=_.call(i,"catchLoc"),s=_.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&_.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,x):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),x},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),x}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:v(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=y),x}}}}("object"==typeof it?it:"object"==typeof window?window:"object"==typeof self?self:it)});var _u=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}(/[\\^$*+?.()|[\]{}]/g,"\\$&");if(Tt(Tt.S,"RegExp",{escape:function(t){return _u(t)}}),it._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");it._babelPolyfill=!0;var mu="defineProperty";s(String.prototype,"padLeft","".padStart),s(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&s(Array,t,Function.call.bind([][t]))}),function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&m(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function p(t,e){var n=(e=e||{}).body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function d(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&_.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},l.call(p.prototype),l.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];y.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=p,t.Response=y,t.fetch=function(t,e){return new Promise(function(n,r){var i=new p(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:d(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new y(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var bu={readUrl:"https://intensive-ecmascript-server-btfgudlkpi.now.sh/pixel-hunter/questions",writeUrl:"https://intensive-ecmascript-server-btfgudlkpi.now.sh/pixel-hunter/stats/:username"},wu=function(t){return t.replace("#","")},Su=function(){function t(){var e,n=this;g(this,t),this._model=new(function(t){function e(){return g(this,e),w(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,P),_(e,[{key:"urlRead",get:function(){return bu.readUrl}}]),e}()),this._routes=(e={},m(e,p.INTRO,I),m(e,p.GREETING,N),m(e,p.RULES,rt),m(e,p.GAME,$),m(e,p.STATS,tt),e),addEventListener("hashchange",function(){n._changeController(wu(location.hash))},!1)}return _(t,[{key:"init",value:function(){if(location.hash.split("=")[0]==="#"+p.STATS)return O.changeState({playerName:location.hash.split("=")[1]}),void this._changeController(wu(location.hash));this._model.load().then(function(e){return t.preloadData(e)}).catch(function(t){return document.write("Не удалось загрузить данные с сервера по причине <b>"+t+".</b>. Попробуйте сыграть позже.")}),location.hash=p.INTRO,this._changeController(wu(location.hash))}},{key:"_changeController",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("="),e=S(t,2),n=e[0],r=e[1];new(0,this._routes[n])(r).init()}}],[{key:"preloadData",value:function(e){var n=[].concat(E(e.paintings),E(e.photos));Promise.all(n.map(function(t){return new Promise(function(e,n){var r=new Image;r.addEventListener("load",function(){return e(r)}),r.addEventListener("error",n),r.src=t})})).then(t.goTo(p.GREETING)),O.collectPics(e)}},{key:"goTo",value:function(t){location.hash=t}},{key:"uploadStats",value:function(t,e){return this._model=new(function(t){function e(){return g(this,e),w(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,P),_(e,[{key:"urlWrite",get:function(){return bu.writeUrl}}]),e}()),this._model.send(t,e)}},{key:"downloadStats",value:function(t){return fetch(bu.writeUrl.replace("username",t)).then(function(t){return t.json()})}}]),t}();return(new Su).init(),Su}();
